import{C as M}from"./index-ff5637ae.js";import{T as D}from"./index-6273444f.js";import{B as E}from"./index-c7743a2e.js";import{T as L,C as N}from"./vue-select.es-2c5a72e0.js";import{S as H}from"./sweetalert2.all-58477e35.js";import{_ as I,u as j,r as S,c as r,d as n,i as z,F as y,D as k,w,g as _,a as u,b as o,C as U,f as s,n as A,h as p,t as b}from"./index-aae2f258.js";import{u as O}from"./dropdown-689d2ad1.js";import{M as Y}from"./edit_map-1e74b2ca.js";import{u as J}from"./related-d49cfae2.js";import"./index-8100ed51.js";import"./mapbox-gl-geocoder-222a5724.js";import"./index-10f5f390.js";const l=J(),K=j(),P=O(),g=S(""),v=S(""),Q={props:{props_related_module:String,props_module:String},components:{Card:M,Textinput:D,Button:E,Textarea:L,Select:N,Map:Y},data(){return{dropdown_store:P,modules:g,related_store:l}},created(){g.value=this.props_module,v.value=this.props_related_module,l.module=g.value,l.related_module=v.value},mounted(){l.get_edit_form(),l.form.id=this.$route.params.id,l.id!=""&&(l.form.related_id=v.id,l.get(this.$route.params.id,l.id))},computed:{modules_(){const d=v.value;return K.module.find(c=>c.name==d)}},methods:{save(){var d="";if(Object.keys(l.required_field).map(c=>{l.form[c]==""&&(d+=`<span class="text-red-500"><b>${l.required_field[c]}</b> is required field</span><br>`)}),d!="")return H.fire({icon:"error",title:"Fill up the Required field",html:d}),!1;l.form.id=this.$route.params.id,l.save()},updateCoordinates(d){const{lng:m,lat:c}=d;l.form.coordinates=m+","+c}}},W={key:0},X={class:"lg:grid lg:grid-cols-2 gap-12"},Z={key:1},$={class:"lg:grid gap-x-12",style:{"grid-template-columns":"1fr 1fr"}},ee={key:0},oe={class:"fromGroup relative"},te={class:"flex-0 mr-6 break-words ltr:inline-block rtl:block input-label"},re={key:0,class:"text-red-500"},le={key:1},ae={class:"fromGroup relative"},se={class:"flex-0 mr-6 break-words ltr:inline-block rtl:block input-label"},ne={key:0,class:"text-red-500"},de={key:2},me={class:"fromGroup relative"},ie={class:"flex-0 mr-6 break-words ltr:inline-block rtl:block input-label"},ue={key:0,class:"text-red-500"},ce={key:3,class:"fromGroup relative"},_e={class:"flex-0 mr-6 break-words ltr:inline-block rtl:block input-label"},pe={key:0,class:"text-red-500"},be={key:4},fe={class:"fromGroup relative"},he={class:"flex-0 mr-6 break-words ltr:inline-block rtl:block input-label"},ve={key:0,class:"text-red-500"};function ye(d,m,c,ke,t,f){const q=u("Loading"),V=u("Textinput"),T=u("Map"),x=u("flat-pickr"),B=u("Textarea"),R=u("Select"),C=u("Card"),F=u("Button");return o(),r("div",null,[n(q,{active:t.related_store.loading,"onUpdate:active":m[0]||(m[0]=i=>t.related_store.loading=i)},null,8,["active"]),t.related_store.loading?_("",!0):(o(),r("form",{key:0,onSubmit:m[1]||(m[1]=z((...i)=>f.save&&f.save(...i),["prevent"]))},[(o(!0),r(y,null,k(t.related_store.data.blocks,(i,G)=>(o(),U(C,{key:G,title:i.block,class:"mb-4"},{default:w(()=>[i.block=="Location Details"?(o(),r("div",W,[s("div",X,[s("div",null,[(o(!0),r(y,null,k(i.fields,(e,h)=>(o(),U(V,{isReadonly:e.readonly==1,class:"mt-4",key:h,modelValue:t.related_store.form[e.name],"onUpdate:modelValue":a=>t.related_store.form[e.name]=a,label:e.label,placeholder:`Enter ${e.label}`},null,8,["isReadonly","modelValue","onUpdate:modelValue","label","placeholder"]))),128))]),s("div",null,[n(T,{set_coordinates:t.related_store.form.coordinates,onUpdateCoordinate:f.updateCoordinates},null,8,["set_coordinates","onUpdateCoordinate"])])])])):(o(),r("div",Z,[s("div",$,[(o(!0),r(y,null,k(i.fields,(e,h)=>(o(),r("div",{key:h,class:A([`custom-grid-${h%2}`,"mt-4"])},[e.type=="time"?(o(),r("div",ee,[s("div",oe,[s("label",te,[p(b(e.label)+" ",1),e.required?(o(),r("span",re,"*")):_("",!0)]),n(x,{modelValue:t.related_store.form[e.name],"onUpdate:modelValue":a=>t.related_store.form[e.name]=a,class:"form-control",placeholder:"HH:mm:00",config:{enableTime:!0,noCalendar:!0,dateFormat:"H:i:00",time_24hr:!0,minuteIncrement:1}},null,8,["modelValue","onUpdate:modelValue"])])])):e.type=="date"?(o(),r("div",le,[s("div",ae,[s("label",se,[p(b(e.label)+" ",1),e.required?(o(),r("span",ne,"*")):_("",!0)]),n(x,{modelValue:t.related_store.form[e.name],"onUpdate:modelValue":a=>t.related_store.form[e.name]=a,class:"form-control",placeholder:"yyyy-mm-dd",config:{dateFormat:"Y-m-d"}},null,8,["modelValue","onUpdate:modelValue"])])])):e.type=="textarea"?(o(),r("div",de,[s("div",me,[s("label",ie,[p(b(e.label)+" ",1),e.required?(o(),r("span",ue,"*")):_("",!0)]),n(B,{isReadonly:e.readonly==1,placeholder:`Enter ${e.label}`,modelValue:t.related_store.form[e.name],"onUpdate:modelValue":a=>t.related_store.form[e.name]=a},null,8,["isReadonly","placeholder","modelValue","onUpdate:modelValue"])])])):e.type=="dropdown"?(o(),r("div",ce,[s("label",_e,[p(b(e.label)+" ",1),e.required?(o(),r("span",pe,"*")):_("",!0)]),n(R,{disabled:e.readonly==1,placeholder:"Select an option",reduce:a=>a.label,options:t.dropdown_store.dropdownlist[e.name],modelValue:t.related_store.form[e.name],"onUpdate:modelValue":a=>t.related_store.form[e.name]=a},null,8,["disabled","reduce","options","modelValue","onUpdate:modelValue"])])):(o(),r("div",be,[s("div",fe,[s("label",he,[p(b(e.label)+" ",1),e.required?(o(),r("span",ve,"*")):_("",!0)]),n(V,{isReadonly:e.readonly==1,modelValue:t.related_store.form[e.name],"onUpdate:modelValue":a=>t.related_store.form[e.name]=a,placeholder:`Enter ${e.label}`},null,8,["isReadonly","modelValue","onUpdate:modelValue","placeholder"])])]))],2))),128))])]))]),_:2},1032,["title"]))),128)),n(C,null,{default:w(()=>[n(F,{class:"w-full bg-emerald-500/100 hover:bg-emerald-600/100",text:`Save ${f.modules_.label}`},null,8,["text"])]),_:1})],32))])}const Ge=I(Q,[["render",ye],["__scopeId","data-v-4b62f3e7"]]);export{Ge as default};

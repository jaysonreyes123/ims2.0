import{u as _}from"./report-4c7cd817.js";import{C as L}from"./index-de911cd9.js";import{I as O}from"./index-96abb035.js";import{B}from"./index-a82eb94e.js";import{_ as u,a as n,b as a,c as l,f as z,d as c,w as v,C as d,g as N,r as S}from"./index-703ff788.js";import{b as P,s as T}from"./appex-chart-2e5bc126.js";import"./dropdown-c7aa31e0.js";const x=_(),q={components:{Card:L,Button:B,Icon:O},data(){return{report:x}},mounted(){x.id=this.$route.params.id,x.data=[],x.get_report_column()},methods:{report_export(r){x.report_export(r)}}},A={class:"flex justify-end mb-4"};function F(r,t,e,m,o,i){const s=n("Button"),f=n("router-link"),g=n("vue-good-table"),b=n("Card");return a(),l("div",null,[z("div",A,[c(f,{target:"_blank",to:{name:"print-report",params:{module:this.$route.params.module,id:this.$route.params.id}}},{default:v(()=>[c(s,{icon:"heroicons-outline:pencil-square",text:"Print",btnClass:"btn-danger shadow-base2",iconPosition:"left",class:"mr-4"})]),_:1},8,["to"]),c(s,{icon:"heroicons-outline:pencil-square",text:"Csv",btnClass:"btn-danger shadow-base2",iconPosition:"left",class:"mr-4",onClick:t[0]||(t[0]=p=>i.report_export("csv"))}),c(s,{icon:"heroicons-outline:pencil-square",text:"Excel",btnClass:"btn-danger shadow-base2",iconPosition:"left",class:"mr-4",onClick:t[1]||(t[1]=p=>i.report_export("xlsx"))})]),c(b,{title:o.report.form.report_name},{default:v(()=>[c(g,{columns:o.report.columns,"fixed-header":!0,isLoading:o.report.loading,styleClass:" vgt-table  lesspadding2",rows:o.report.generate_report_list,"pagination-options":{enabled:!1,perPage:15}},null,8,["columns","isLoading","rows"])]),_:1},8,["title"])])}const I=u(q,[["render",F]]),$=_(),V={props:{report_id:{type:Number,default:0},height:String},data(){return{report:$}},mounted(){$.id=this.$route.params.id,this.get_chart()},methods:{async get_chart(){try{const t=(await this.$axios.get("reports/get_chart/"+this.report_id)).data;setTimeout(()=>{this.$refs.chart_pie!=null&&this.$refs.chart_pie.updateOptions({series:t.count,labels:t.label})},100)}catch{}}},computed:{ChartConfiguration(){return{series:[],chartOptions:{labels:[],dataLabels:{formatter:function(r,t){return t.w.config.series[t.seriesIndex]},enabled:!0},responsive:[{breakpoint:480,options:{legend:{position:"bottom"}}}]}}}}};function j(r,t,e,m,o,i){const s=n("apexchart");return a(),l("div",null,[c(s,{ref:"chart_pie",type:"pie",height:e.height,options:i.ChartConfiguration.chartOptions,series:i.ChartConfiguration.series},null,8,["height","options","series"])])}const E=u(V,[["render",j]]),k=_(),U={props:{report_id:{type:Number,default:0},height:String},data(){return{basicBar:P,report:k}},mounted(){k.id=this.$route.params.id,this.get_chart()},methods:{async get_chart(){try{const t=(await this.$axios.get("reports/get_chart/"+this.report_id)).data;setTimeout(()=>{this.$refs.chart_horizontal!=null&&this.$refs.chart_horizontal.updateOptions({series:[{data:t.count}],xaxis:{categories:t.label}})},100)}catch{}}},computed:{ChartConfiguration(){return{series:[{data:[]}],chartOptions:{chart:{toolbar:{show:!1}},plotOptions:{bar:{horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:[]},colors:["#4669FA"]}}}}};function R(r,t,e,m,o,i){const s=n("apexchart");return a(),l("div",null,[c(s,{ref:"chart_horizontal",type:"bar",height:e.height,options:i.ChartConfiguration.chartOptions,series:i.ChartConfiguration.series},null,8,["height","options","series"])])}const D=u(U,[["render",R]]),w=_(),G={props:{report_id:{type:Number,default:0},height:String},data(){return{basicBar:P,report:w}},mounted(){w.id=this.$route.params.id,this.get_chart()},methods:{async get_chart(){try{const t=(await this.$axios.get("reports/get_chart/"+this.report_id)).data;setTimeout(()=>{this.$refs.chart_vertical!=null&&this.$refs.chart_vertical.updateOptions({series:[{data:t.count}],xaxis:{categories:t.label}})},100)}catch{}}},computed:{ChartConfiguration(){return{series:[{data:[]}],chartOptions:{chart:{toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1}},dataLabels:{enabled:!1},xaxis:{categories:[]},colors:["#4669FA"]}}}}};function H(r,t,e,m,o,i){const s=n("apexchart");return a(),l("div",null,[c(s,{ref:"chart_vertical",type:"bar",height:e.height,options:i.ChartConfiguration.chartOptions,series:i.ChartConfiguration.series},null,8,["height","options","series"])])}const J=u(G,[["render",H]]),C=_(),K={props:{report_id:{type:Number,default:0},height:String},data(){return{report:C,stepLine:T}},mounted(){C.id=this.$route.params.id,this.get_chart()},methods:{async get_chart(){try{C.loading=!0;const t=(await this.$axios.get("reports/get_chart/"+this.report_id)).data;setTimeout(()=>{this.$refs.chart_line!=null&&this.$refs.chart_line.updateOptions({series:[{data:t.count}],xaxis:{categories:t.label}})},100),C.loading=!1}catch{}}},computed:{chartConfiguration(){return{series:[{data:[]}],chartOptions:{chart:{toolbar:{show:!1}},stroke:{curve:"stepline"},dataLabels:{enabled:!1},markers:{hover:{sizeOffset:4}},colors:["#4669FA"]}}}}};function M(r,t,e,m,o,i){const s=n("apexchart");return a(),l("div",null,[c(s,{ref:"chart_line",type:"line",height:e.height,options:i.chartConfiguration.chartOptions,series:i.chartConfiguration.series},null,8,["height","options","series"])])}const Q=u(K,[["render",M]]),W=_(),X={props:{chart_type:{type:String,default:"pie"},report_id:{type:Number,default:0},title:{type:String,default:""},height:{type:String,default:"350px"}},components:{pie:E,horizontal:D,vertical:J,Line:Q,Card:L},data(){return{report:W}}};function Y(r,t,e,m,o,i){const s=n("pie"),f=n("horizontal"),g=n("vertical"),b=n("Line"),p=n("Card");return a(),l("div",null,[c(p,{title:e.title,bodyClass:"min-h-[300px] p-6"},{default:v(()=>[e.chart_type=="pie"?(a(),d(s,{key:0,title:e.title,report_id:e.report_id,height:e.height},null,8,["title","report_id","height"])):e.chart_type=="horizontal"?(a(),d(f,{key:1,title:e.title,report_id:e.report_id,height:e.height},null,8,["title","report_id","height"])):e.chart_type=="vertical"?(a(),d(g,{key:2,title:e.title,report_id:e.report_id,height:e.height},null,8,["title","report_id","height"])):e.chart_type=="line"?(a(),d(b,{key:3,title:e.title,report_id:e.report_id,height:e.height},null,8,["title","report_id","height"])):N("",!0)]),_:1},8,["title"])])}const Z=u(X,[["render",Y]]),h=_(),y=S(),tt={components:{List:I,Chart:Z,Button:B,Icon:O},data(){return{report:h,pin_:y}},mounted(){h.id=this.$route.params.id,h.get_single_data(),y.value=h.form.pin},methods:{async pin(r){try{h.loading=!0,await this.$axios.get("reports/pin/"+h.id+"/"+r),y.value=r,h.loading=!1}catch{}}}},et={key:0},rt={key:1},ot={class:"flex justify-end mb-4"};function it(r,t,e,m,o,i){const s=n("Loading"),f=n("List"),g=n("Button"),b=n("Chart");return a(),l("div",null,[c(s,{active:o.report.loading,"onUpdate:active":t[0]||(t[0]=p=>o.report.loading=p)},null,8,["active"]),o.report.form.type=="list"?(a(),l("div",et,[c(f)])):(a(),l("div",rt,[z("div",ot,[o.pin_==0?(a(),d(g,{key:0,icon:"solar:pin-bold",text:"Pin",btnClass:"btn-danger shadow-base2",iconPosition:"left",class:"mr-4",onClick:t[1]||(t[1]=p=>i.pin(1))})):(a(),d(g,{key:1,icon:"solar:pin-outline",text:"Unpin",btnClass:"btn-danger shadow-base2",iconPosition:"left",class:"mr-4",onClick:t[2]||(t[2]=p=>i.pin(0))}))]),o.report.data.report_charts?(a(),d(b,{key:0,title:o.report.data.report_name,report_id:o.report.data.id,chart_type:o.report.data.report_charts.chart},null,8,["title","report_id","chart_type"])):N("",!0)]))])}const dt=u(tt,[["render",it]]);export{dt as default};

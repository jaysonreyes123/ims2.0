import{i as m}from"./incident_map-1fc65e61.js";import{m as t}from"./mapbox-gl-6cf0b8b4.js";import{r as d,_ as r,b as o,c as n,f as l,C as h,R as _}from"./index-703ff788.js";import"./index-de911cd9.js";import"./index-3fa781ec.js";t.accessToken="pk.eyJ1IjoiamF5c29ucmV5ZXMyNiIsImEiOiJjbGd1aDViYXUwZzM2M3BsamlpdWtjbzBsIn0.DmYf96Yhwg7vip5Qpzghnw";const u=d([]),y={data(){return{heat_map_data:u}},mounted(){this.heat_map()},methods:{async heat_map(){try{const e=await this.$axios.get("map/heat_map");this.heat_map_data=e.data;const a=new t.Map({container:this.$refs.mapContainer,style:"mapbox://styles/mapbox/dark-v10",center:[122.4902841093123,12.573067659271082],zoom:5});a.addControl(new t.FullscreenControl),a.addControl(new t.NavigationControl),a.on("load",()=>{a.addSource("datasource",{type:"geojson",data:this.heat_map_data}),console.log(this.heat_map_data),a.addLayer({id:"heatheat",type:"heatmap",source:"datasource",maxzoom:10,paint:{"heatmap-weight":{property:"dbh",type:"exponential",stops:[[1,0],[62,1]]},"heatmap-intensity":{stops:[[11,1],[18,3]]},"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(255, 255, 255,0)",.2,"#FF0000",.4,"#FF0000",.6,"#FF0000",.8,"#FF0000"],"heatmap-radius":{stops:[[3,18],[10,20]]},"heatmap-opacity":{default:1,stops:[[6,1],[10,0]]}}},"waterway-label"),a.addLayer({id:"point",type:"circle",source:"datasource",minzoom:9,paint:{"circle-radius":{property:"dbh",type:"exponential",stops:[[{zoom:10,value:1},5],[{zoom:10,value:62},10],[{zoom:12,value:1},20],[{zoom:12,value:62},50]]},"circle-color":{property:"dbh",type:"exponential",stops:[[0,"rgba(255, 255, 255,0)"],[10,"#FF0000"],[20,"#FF0000"],[30,"#FF0000"],[40,"#FF0000"],[50,"#FF0000"],[60,"#FF0000"]]},"circle-stroke-color":"white","circle-stroke-width":1,"circle-opacity":{stops:[[6,0],[10,1]]}}},"waterway-label")})}catch(e){console.log(e)}}}},F={class:"shadow-lg"},f={ref:"mapContainer",class:"map-container h-screen"};function w(e,a,p,c,i,s){return o(),n("div",F,[l("div",f,null,512)])}const b=r(y,[["render",w]]),x={components:{incident_map:m,heat_map:b},methods:{MapView(){return this.$route.params.module}}};function g(e,a,p,c,i,s){return o(),n("div",null,[(o(),h(_(s.MapView())))])}const B=r(x,[["render",g]]);export{B as default};

import{C as E}from"./index-31d27bbd.js";import{T as N}from"./index-8c299b0d.js";import{B as H}from"./index-1bfbf0d9.js";import{T as j,C as z}from"./vue-select.es-87cb21a9.js";import{S as I}from"./index-fe249308.js";import{S as O}from"./sweetalert2.all-f63bff7b.js";import{M as Y}from"./edit_map-927a6a88.js";import{r as R,_ as T,a,b as t,c as l,d as m,i as A,F as V,D as x,C as v,w as C,f as s,n as J,h as p,t as b,g as d}from"./index-919f49e3.js";import{u as K}from"./module-3a529a21.js";import{u as P}from"./dropdown-c096971e.js";import{L as Q}from"./save-be43adda.js";import"./index-3e12b49d.js";import"./mapbox-gl-geocoder-21005c77.js";import"./index-797ac68a.js";import"./index-2129bf1d.js";import"./report-b92a7d65.js";const u=K(),W=P(),g=R(""),X={components:{Card:E,Textinput:N,Button:H,Textarea:j,Select:z,Map:Y,Switch:I},data(){return{module_store:u,dropdown_store:W,modules:g}},created(){g.value=this.$route.params.module},mounted(){const n=this.$route.params.id;u.module=g.value,u.get_edit_form(n),u.id=n},methods:{save(){var n="";if(Object.keys(u.required_field).map(_=>{u.form[_]==""&&(n+=`<span class="text-red-500"><b>${u.required_field[_]}</b> is required field</span><br>`)}),n!="")return O.fire({icon:"error",title:"Fill up the Required field",html:n}),!1;u.save()},updateCoordinates(n){const{lng:c,lat:_}=n;u.form.coordinates=c+","+_}}},Z={key:0},$={class:"lg:grid lg:grid-cols-2 gap-12"},ee={key:1},oe={class:"lg:grid gap-x-12",style:{"grid-template-columns":"1fr 1fr"}},te={key:0},le={class:"fromGroup relative"},re={class:"flex-0 mr-6 break-words ltr:inline-block rtl:block input-label"},se={key:0,class:"text-red-500"},ae={key:1},ne={class:"fromGroup relative"},me={class:"flex-0 mr-6 break-words ltr:inline-block rtl:block input-label"},de={key:0,class:"text-red-500"},ue={key:2},ce={class:"fromGroup relative"},ie={class:"flex-0 mr-6 break-words ltr:inline-block rtl:block input-label"},_e={key:0,class:"text-red-500"},pe={key:3,class:"fromGroup relative"},be={class:"flex-0 mr-6 break-words ltr:inline-block rtl:block input-label"},ve={key:0,class:"text-red-500"},ye={key:4,class:"fromGroup relative"},ke={class:"flex-0 mr-6 break-words ltr:inline-block rtl:block input-label"},he={key:0,class:"text-red-500"},fe={key:5},Ve={class:"fromGroup relative"},xe={class:"flex-0 mr-6 break-words ltr:inline-block rtl:block input-label"},ge={key:0,class:"text-red-500"};function Se(n,c,_,B,o,y){const f=a("Loading"),k=a("Textinput"),G=a("Map"),S=a("flat-pickr"),L=a("Textarea"),M=a("Select"),w=a("Switch"),U=a("Card"),F=a("Button");return t(),l("div",null,[m(f,{active:o.module_store.loading,"onUpdate:active":c[0]||(c[0]=i=>o.module_store.loading=i)},null,8,["active"]),o.module_store.loading?d("",!0):(t(),l("form",{key:0,onSubmit:c[1]||(c[1]=A((...i)=>y.save&&y.save(...i),["prevent"]))},[(t(!0),l(V,null,x(o.module_store.data.blocks,(i,D)=>(t(),v(U,{key:D,title:i.block,class:"mb-4"},{default:C(()=>[i.block=="Location Details"?(t(),l("div",Z,[s("div",$,[s("div",null,[(t(!0),l(V,null,x(i.fields,(e,h)=>(t(),v(k,{isReadonly:e.readonly==1,class:"mt-4",key:h,modelValue:o.module_store.form[e.name],"onUpdate:modelValue":r=>o.module_store.form[e.name]=r,label:e.label,placeholder:`Enter ${e.label}`},null,8,["isReadonly","modelValue","onUpdate:modelValue","label","placeholder"]))),128))]),s("div",null,[m(G,{set_coordinates:o.module_store.form.coordinates,onUpdateCoordinate:y.updateCoordinates},null,8,["set_coordinates","onUpdateCoordinate"])])])])):(t(),l("div",ee,[s("div",oe,[(t(!0),l(V,null,x(i.fields.filter(e=>e.display_type==1),(e,h)=>(t(),l("div",{key:h,class:J([`custom-grid-${h%2}`,"mt-4"])},[e.type=="time"?(t(),l("div",te,[s("div",le,[s("label",re,[p(b(e.label)+" ",1),e.required?(t(),l("span",se,"*")):d("",!0)]),m(S,{modelValue:o.module_store.form[e.name],"onUpdate:modelValue":r=>o.module_store.form[e.name]=r,class:"form-control",placeholder:"HH:mm:00",config:{enableTime:!0,noCalendar:!0,dateFormat:"H:i:00",time_24hr:!0,minuteIncrement:1}},null,8,["modelValue","onUpdate:modelValue"])])])):e.type=="date"?(t(),l("div",ae,[s("div",ne,[s("label",me,[p(b(e.label)+" ",1),e.required?(t(),l("span",de,"*")):d("",!0)]),m(S,{modelValue:o.module_store.form[e.name],"onUpdate:modelValue":r=>o.module_store.form[e.name]=r,class:"form-control",placeholder:"yyyy-mm-dd",config:{dateFormat:"Y-m-d"}},null,8,["modelValue","onUpdate:modelValue"])])])):e.type=="textarea"?(t(),l("div",ue,[s("div",ce,[s("label",ie,[p(b(e.label)+" ",1),e.required?(t(),l("span",_e,"*")):d("",!0)]),m(L,{isReadonly:e.readonly==1,placeholder:`Enter ${e.label}`,modelValue:o.module_store.form[e.name],"onUpdate:modelValue":r=>o.module_store.form[e.name]=r},null,8,["isReadonly","placeholder","modelValue","onUpdate:modelValue"])])])):e.type=="dropdown"?(t(),l("div",pe,[s("label",be,[p(b(e.label)+" ",1),e.required?(t(),l("span",ve,"*")):d("",!0)]),m(M,{disabled:e.readonly==1,placeholder:"Select an option",reduce:r=>r.label,options:o.dropdown_store.dropdownlist[e.name],modelValue:o.module_store.form[e.name],"onUpdate:modelValue":r=>o.module_store.form[e.name]=r},null,8,["disabled","reduce","options","modelValue","onUpdate:modelValue"])])):e.type=="checkbox"?(t(),l("div",ye,[s("label",ke,[p(b(e.label)+" ",1),e.required?(t(),l("span",he,"*")):d("",!0)]),o.module_store.form[e.name]==1?(t(),v(w,{key:0,modelValue:o.module_store.form[e.name],"onUpdate:modelValue":r=>o.module_store.form[e.name]=r,active:!0,class:"mb-5"},null,8,["modelValue","onUpdate:modelValue"])):d("",!0),o.module_store.form[e.name]==0?(t(),v(w,{key:1,modelValue:o.module_store.form[e.name],"onUpdate:modelValue":r=>o.module_store.form[e.name]=r,active:!1,class:"mb-5"},null,8,["modelValue","onUpdate:modelValue"])):d("",!0)])):(t(),l("div",fe,[s("div",Ve,[s("label",xe,[p(b(e.label)+" ",1),e.required?(t(),l("span",ge,"*")):d("",!0)]),m(k,{isReadonly:e.readonly==1,modelValue:o.module_store.form[e.name],"onUpdate:modelValue":r=>o.module_store.form[e.name]=r,placeholder:`Enter ${e.label}`},null,8,["isReadonly","modelValue","onUpdate:modelValue","placeholder"])])]))],2))),128))])]))]),_:2},1032,["title"]))),128)),m(U,null,{default:C(()=>[m(F,{class:"w-full bg-emerald-500/100 hover:bg-emerald-600/100",text:`Save ${o.modules}`},null,8,["text"])]),_:1})],32))])}const we=T(X,[["render",Se]]),q=R(),Ue={components:{Save:we,ReportSave:Q},created(){q.value=this.$route.params.module},data(){return{modules:q}}};function Ce(n,c,_,B,o,y){const f=a("ReportSave"),k=a("Save");return t(),l("div",null,[o.modules=="reports"?(t(),v(f,{key:0})):(t(),v(k,{key:1}))])}const Ye=T(Ue,[["render",Ce]]);export{Ye as default};

import{C as G}from"./index-2412a5d3.js";import{T as M}from"./index-94653a48.js";import{B as D}from"./index-d37bd73e.js";import{T as E,C as N}from"./vue-select.es-a487208f.js";import{S as H}from"./sweetalert2.all-cbba3559.js";import{_ as I,u as L,r as U,c as t,i as j,F as v,D as y,d,w,g as _,a as u,b as o,C as S,f as a,n as z,h as p,t as b}from"./index-d9888335.js";import{u as A}from"./dropdown-387ba376.js";import{M as O}from"./edit_map-1ba6d2c2.js";import{u as Y}from"./related-1bd9762f.js";import"./index-39bd4386.js";import"./mapbox-gl-geocoder-ebca00b9.js";import"./index-eef0ab71.js";import"./module-3c9806cd.js";const s=Y(),J=L(),K=A(),k=U(""),V=U(""),P={props:{props_related_module:String,props_module:String},components:{Card:G,Textinput:M,Button:D,Textarea:E,Select:N,Map:O},data(){return{dropdown_store:K,modules:k,related_store:s}},created(){k.value=this.props_module,V.value=this.props_related_module,s.module=k.value,s.related_module=V.value},mounted(){s.get_edit_form(this.$route.params.id,s.id),s.form.id=this.$route.params.id},computed:{modules_(){const n=V.value;return J.module.find(m=>m.name==n)}},methods:{save(){var n="";if(Object.keys(s.required_field).map(m=>{s.form[m]==""&&(n+=`<span class="text-red-500"><b>${s.required_field[m]}</b> is required field</span><br>`)}),n!="")return H.fire({icon:"error",title:"Fill up the Required field",html:n}),!1;s.form.id=this.$route.params.id,s.save()},updateCoordinates(n){const{lng:c,lat:m}=n;s.form.coordinates=c+","+m}}},Q={key:0},W={class:"lg:grid lg:grid-cols-2 gap-12"},X={key:1},Z={class:"lg:grid gap-x-12",style:{"grid-template-columns":"1fr 1fr"}},$={key:0},ee={class:"fromGroup relative"},oe={class:"flex-0 mr-6 break-words ltr:inline-block rtl:block input-label"},te={key:0,class:"text-red-500"},re={key:1},le={class:"fromGroup relative"},ae={class:"flex-0 mr-6 break-words ltr:inline-block rtl:block input-label"},se={key:0,class:"text-red-500"},ne={key:2},de={class:"fromGroup relative"},me={class:"flex-0 mr-6 break-words ltr:inline-block rtl:block input-label"},ue={key:0,class:"text-red-500"},ce={key:3,class:"fromGroup relative"},ie={class:"flex-0 mr-6 break-words ltr:inline-block rtl:block input-label"},_e={key:0,class:"text-red-500"},pe={key:4},be={class:"fromGroup relative"},he={class:"flex-0 mr-6 break-words ltr:inline-block rtl:block input-label"},fe={key:0,class:"text-red-500"};function ve(n,c,m,ye,r,h){const x=u("Textinput"),q=u("Map"),g=u("flat-pickr"),T=u("Textarea"),B=u("Select"),C=u("Card"),R=u("Button");return o(),t("div",null,[r.related_store.loading?_("",!0):(o(),t("form",{key:0,onSubmit:c[0]||(c[0]=j((...i)=>h.save&&h.save(...i),["prevent"]))},[(o(!0),t(v,null,y(r.related_store.data.blocks,(i,F)=>(o(),S(C,{key:F,title:i.block,class:"mb-4"},{default:w(()=>[i.block=="Location Details"?(o(),t("div",Q,[a("div",W,[a("div",null,[(o(!0),t(v,null,y(i.fields,(e,f)=>(o(),S(x,{isReadonly:e.readonly==1,class:"mt-4",key:f,modelValue:r.related_store.form[e.name],"onUpdate:modelValue":l=>r.related_store.form[e.name]=l,label:e.label,placeholder:`Enter ${e.label}`},null,8,["isReadonly","modelValue","onUpdate:modelValue","label","placeholder"]))),128))]),a("div",null,[d(q,{set_coordinates:r.related_store.form.coordinates,onUpdateCoordinate:h.updateCoordinates},null,8,["set_coordinates","onUpdateCoordinate"])])])])):(o(),t("div",X,[a("div",Z,[(o(!0),t(v,null,y(i.fields,(e,f)=>(o(),t("div",{key:f,class:z([`custom-grid-${f%2}`,"mt-4"])},[e.type=="time"?(o(),t("div",$,[a("div",ee,[a("label",oe,[p(b(e.label)+" ",1),e.required?(o(),t("span",te,"*")):_("",!0)]),d(g,{modelValue:r.related_store.form[e.name],"onUpdate:modelValue":l=>r.related_store.form[e.name]=l,class:"form-control",placeholder:"HH:mm:00",config:{enableTime:!0,noCalendar:!0,dateFormat:"H:i:00",time_24hr:!0,minuteIncrement:1}},null,8,["modelValue","onUpdate:modelValue"])])])):e.type=="date"?(o(),t("div",re,[a("div",le,[a("label",ae,[p(b(e.label)+" ",1),e.required?(o(),t("span",se,"*")):_("",!0)]),d(g,{modelValue:r.related_store.form[e.name],"onUpdate:modelValue":l=>r.related_store.form[e.name]=l,class:"form-control",placeholder:"yyyy-mm-dd",config:{dateFormat:"Y-m-d"}},null,8,["modelValue","onUpdate:modelValue"])])])):e.type=="textarea"?(o(),t("div",ne,[a("div",de,[a("label",me,[p(b(e.label)+" ",1),e.required?(o(),t("span",ue,"*")):_("",!0)]),d(T,{isReadonly:e.readonly==1,placeholder:`Enter ${e.label}`,modelValue:r.related_store.form[e.name],"onUpdate:modelValue":l=>r.related_store.form[e.name]=l},null,8,["isReadonly","placeholder","modelValue","onUpdate:modelValue"])])])):e.type=="dropdown"?(o(),t("div",ce,[a("label",ie,[p(b(e.label)+" ",1),e.required?(o(),t("span",_e,"*")):_("",!0)]),d(B,{disabled:e.readonly==1,placeholder:"Select an option",reduce:l=>l.label,options:r.dropdown_store.dropdownlist[e.name],modelValue:r.related_store.form[e.name],"onUpdate:modelValue":l=>r.related_store.form[e.name]=l},null,8,["disabled","reduce","options","modelValue","onUpdate:modelValue"])])):(o(),t("div",pe,[a("div",be,[a("label",he,[p(b(e.label)+" ",1),e.required?(o(),t("span",fe,"*")):_("",!0)]),d(x,{isReadonly:e.readonly==1,modelValue:r.related_store.form[e.name],"onUpdate:modelValue":l=>r.related_store.form[e.name]=l,placeholder:`Enter ${e.label}`},null,8,["isReadonly","modelValue","onUpdate:modelValue","placeholder"])])]))],2))),128))])]))]),_:2},1032,["title"]))),128)),d(C,null,{default:w(()=>[d(R,{class:"w-full bg-emerald-500/100 hover:bg-emerald-600/100",text:`Save ${h.modules_.label}`},null,8,["text"])]),_:1})],32))])}const Ge=I(P,[["render",ve],["__scopeId","data-v-b1df79ae"]]);export{Ge as default};

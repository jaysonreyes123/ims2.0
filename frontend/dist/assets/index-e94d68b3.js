import{I as Q}from"./index-3e12b49d.js";import{r as h,o as B,y as L,p as E,m as x,s as W,z as q,A as D,B as G,_ as J,a as M,b as k,C as R,w as S,Q as V,n as w,h as X,t as P,d as T,c as _,F as Y,D as Z,f as C,T as ee}from"./index-919f49e3.js";import{o as m,m as te,y as ae,h as le,F as ne,c as se,u as oe,l as O,V as N,t as $,p as re,R as j,b as I,v as ue,M as K,D as z,O as ie}from"./transition-73e05a2f.js";function ce(t){throw new Error("Unexpected object: "+t)}var g=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(g||{});function de(t,u){let o=u.resolveItems();if(o.length<=0)return null;let d=u.resolveActiveIndex(),e=d??-1,p=(()=>{switch(t.focus){case 0:return o.findIndex(l=>!u.resolveDisabled(l));case 1:{let l=o.slice().reverse().findIndex((i,c,b)=>e!==-1&&b.length-c-1>=e?!1:!u.resolveDisabled(i));return l===-1?l:o.length-1-l}case 2:return o.findIndex((l,i)=>i<=e?!1:!u.resolveDisabled(l));case 3:{let l=o.slice().reverse().findIndex(i=>!u.resolveDisabled(i));return l===-1?l:o.length-1-l}case 4:return o.findIndex(l=>u.resolveId(l)===t.id);case 5:return null;default:ce(t)}})();return p===-1?d:p}function U(t,u){if(t)return t;let o=u??"button";if(typeof o=="string"&&o.toLowerCase()==="button")return"button"}function ve(t,u){let o=h(U(t.value.type,t.value.as));return B(()=>{o.value=U(t.value.type,t.value.as)}),L(()=>{var d;o.value||!m(u)||m(u)instanceof HTMLButtonElement&&!((d=m(u))!=null&&d.hasAttribute("type"))&&(o.value="button")}),o}function pe({container:t,accept:u,walk:o,enabled:d}){L(()=>{let e=t.value;if(!e||d!==void 0&&!d.value)return;let p=te(t);if(!p)return;let l=Object.assign(c=>u(c),{acceptNode:u}),i=p.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,l,!1);for(;i.nextNode();)o(i.currentNode)})}var fe=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(fe||{}),me=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(me||{});function be(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let H=Symbol("MenuContext");function A(t){let u=G(H,null);if(u===null){let o=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,A),o}return u}let Ie=E({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(t,{slots:u,attrs:o}){let d=h(1),e=h(null),p=h(null),l=h([]),i=h(""),c=h(null),b=h(1);function v(n=s=>s){let s=c.value!==null?l.value[c.value]:null,r=ie(n(l.value.slice()),y=>m(y.dataRef.domRef)),f=s?r.indexOf(s):null;return f===-1&&(f=null),{items:r,activeItemIndex:f}}let a={menuState:d,buttonRef:e,itemsRef:p,items:l,searchQuery:i,activeItemIndex:c,activationTrigger:b,closeMenu:()=>{d.value=1,c.value=null},openMenu:()=>d.value=0,goToItem(n,s,r){let f=v(),y=de(n===g.Specific?{focus:g.Specific,id:s}:{focus:n},{resolveItems:()=>f.items,resolveActiveIndex:()=>f.activeItemIndex,resolveId:F=>F.id,resolveDisabled:F=>F.dataRef.disabled});i.value="",c.value=y,b.value=r??1,l.value=f.items},search(n){let s=i.value!==""?0:1;i.value+=n.toLowerCase();let r=(c.value!==null?l.value.slice(c.value+s).concat(l.value.slice(0,c.value+s)):l.value).find(y=>y.dataRef.textValue.startsWith(i.value)&&!y.dataRef.disabled),f=r?l.value.indexOf(r):-1;f===-1||f===c.value||(c.value=f,b.value=1)},clearSearch(){i.value=""},registerItem(n,s){let r=v(f=>[...f,{id:n,dataRef:s}]);l.value=r.items,c.value=r.activeItemIndex,b.value=1},unregisterItem(n){let s=v(r=>{let f=r.findIndex(y=>y.id===n);return f!==-1&&r.splice(f,1),r});l.value=s.items,c.value=s.activeItemIndex,b.value=1}};return ae([e,p],(n,s)=>{var r;a.closeMenu(),le(s,ne.Loose)||(n.preventDefault(),(r=m(e))==null||r.focus())},x(()=>d.value===0)),W(H,a),se(x(()=>oe(d.value,{0:O.Open,1:O.Closed}))),()=>{let n={open:d.value===0};return N({ourProps:{},theirProps:t,slot:n,slots:u,attrs:o,name:"Menu"})}}}),ge=E({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"}},setup(t,{attrs:u,slots:o,expose:d}){let e=A("MenuButton"),p=`headlessui-menu-button-${$()}`;d({el:e.buttonRef,$el:e.buttonRef});function l(v){switch(v.key){case I.Space:case I.Enter:case I.ArrowDown:v.preventDefault(),v.stopPropagation(),e.openMenu(),D(()=>{var a;(a=m(e.itemsRef))==null||a.focus({preventScroll:!0}),e.goToItem(g.First)});break;case I.ArrowUp:v.preventDefault(),v.stopPropagation(),e.openMenu(),D(()=>{var a;(a=m(e.itemsRef))==null||a.focus({preventScroll:!0}),e.goToItem(g.Last)});break}}function i(v){switch(v.key){case I.Space:v.preventDefault();break}}function c(v){t.disabled||(e.menuState.value===0?(e.closeMenu(),D(()=>{var a;return(a=m(e.buttonRef))==null?void 0:a.focus({preventScroll:!0})})):(v.preventDefault(),e.openMenu(),be(()=>{var a;return(a=m(e.itemsRef))==null?void 0:a.focus({preventScroll:!0})})))}let b=ve(x(()=>({as:t.as,type:u.type})),e.buttonRef);return()=>{var v;let a={open:e.menuState.value===0},n={ref:e.buttonRef,id:p,type:b.value,"aria-haspopup":!0,"aria-controls":(v=m(e.itemsRef))==null?void 0:v.id,"aria-expanded":t.disabled?void 0:e.menuState.value===0,onKeydown:l,onKeyup:i,onClick:c};return N({ourProps:n,theirProps:t,slot:a,attrs:u,slots:o,name:"MenuButton"})}}}),ke=E({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(t,{attrs:u,slots:o,expose:d}){let e=A("MenuItems"),p=`headlessui-menu-items-${$()}`,l=h(null);d({el:e.itemsRef,$el:e.itemsRef}),pe({container:x(()=>m(e.itemsRef)),enabled:x(()=>e.menuState.value===0),accept(a){return a.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:a.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(a){a.setAttribute("role","none")}});function i(a){var n;switch(l.value&&clearTimeout(l.value),a.key){case I.Space:if(e.searchQuery.value!=="")return a.preventDefault(),a.stopPropagation(),e.search(a.key);case I.Enter:if(a.preventDefault(),a.stopPropagation(),e.activeItemIndex.value!==null){let s=e.items.value[e.activeItemIndex.value];(n=m(s.dataRef.domRef))==null||n.click()}e.closeMenu(),z(m(e.buttonRef));break;case I.ArrowDown:return a.preventDefault(),a.stopPropagation(),e.goToItem(g.Next);case I.ArrowUp:return a.preventDefault(),a.stopPropagation(),e.goToItem(g.Previous);case I.Home:case I.PageUp:return a.preventDefault(),a.stopPropagation(),e.goToItem(g.First);case I.End:case I.PageDown:return a.preventDefault(),a.stopPropagation(),e.goToItem(g.Last);case I.Escape:a.preventDefault(),a.stopPropagation(),e.closeMenu(),D(()=>{var s;return(s=m(e.buttonRef))==null?void 0:s.focus({preventScroll:!0})});break;case I.Tab:a.preventDefault(),a.stopPropagation(),e.closeMenu(),D(()=>ue(m(e.buttonRef),a.shiftKey?K.Previous:K.Next));break;default:a.key.length===1&&(e.search(a.key),l.value=setTimeout(()=>e.clearSearch(),350));break}}function c(a){switch(a.key){case I.Space:a.preventDefault();break}}let b=re(),v=x(()=>b!==null?b.value===O.Open:e.menuState.value===0);return()=>{var a,n;let s={open:e.menuState.value===0},r={"aria-activedescendant":e.activeItemIndex.value===null||(a=e.items.value[e.activeItemIndex.value])==null?void 0:a.id,"aria-labelledby":(n=m(e.buttonRef))==null?void 0:n.id,id:p,onKeydown:i,onKeyup:c,role:"menu",tabIndex:0,ref:e.itemsRef};return N({ourProps:r,theirProps:t,slot:s,attrs:u,slots:o,features:j.RenderStrategy|j.Static,visible:v.value,name:"MenuItems"})}}}),he=E({name:"MenuItem",props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1}},setup(t,{slots:u,attrs:o,expose:d}){let e=A("MenuItem"),p=`headlessui-menu-item-${$()}`,l=h(null);d({el:l,$el:l});let i=x(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===p:!1),c=x(()=>({disabled:t.disabled,textValue:"",domRef:l}));B(()=>{var s,r;let f=(r=(s=m(l))==null?void 0:s.textContent)==null?void 0:r.toLowerCase().trim();f!==void 0&&(c.value.textValue=f)}),B(()=>e.registerItem(p,c)),q(()=>e.unregisterItem(p)),L(()=>{e.menuState.value===0&&(!i.value||e.activationTrigger.value!==0&&D(()=>{var s,r;return(r=(s=m(l))==null?void 0:s.scrollIntoView)==null?void 0:r.call(s,{block:"nearest"})}))});function b(s){if(t.disabled)return s.preventDefault();e.closeMenu(),z(m(e.buttonRef))}function v(){if(t.disabled)return e.goToItem(g.Nothing);e.goToItem(g.Specific,p)}function a(){t.disabled||i.value||e.goToItem(g.Specific,p,0)}function n(){t.disabled||!i.value||e.goToItem(g.Nothing)}return()=>{let{disabled:s}=t,r={active:i.value,disabled:s};return N({ourProps:{id:p,ref:l,role:"menuitem",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,onClick:b,onFocus:v,onPointermove:a,onMousemove:a,onPointerleave:n,onMouseleave:n},theirProps:t,slot:r,attrs:o,slots:u,name:"MenuItem"})}}});const ye={components:{Menu:Ie,MenuButton:ge,MenuItems:ke,MenuItem:he,Icon:Q},props:{label:{type:String,default:"DropDown"},labelClass:{type:String},classMenuItems:{type:String,default:"mt-2 w-[220px]"},classItem:{type:String,default:"px-4 py-2"},parentClass:{type:String,default:"inline-block"},items:{type:Array,default:()=>[{label:"Action",link:"#"},{label:"Another action",link:"#"},{label:"Something else here",link:"#"},{label:"Separated link",link:"#",hasDivider:!0}]}}},xe={key:0},Se={key:0,class:"flex items-center"},_e={class:"block text-xl ltr:mr-3 rtl:ml-3"},Me={class:"block text-sm"},De={key:1,class:"block text-sm"},Re={key:0,class:"flex items-center"},we={class:"block text-xl ltr:mr-3 rtl:ml-3"},Pe={class:"block text-sm"},Te={key:1,class:"block text-sm"};function Ce(t,u,o,d,e,p){const l=M("MenuButton"),i=M("Icon"),c=M("router-link"),b=M("MenuItem"),v=M("MenuItems"),a=M("Menu");return k(),R(a,{as:"div",class:w(["relative",o.parentClass])},{default:S(()=>[t.$slots.default?(k(),R(l,{key:0,class:"block w-full"},{default:S(()=>[V(t.$slots,"default")]),_:3})):(k(),R(l,{key:1,class:w([o.labelClass,"block w-full"])},{default:S(()=>[X(P(o.label),1)]),_:1},8,["class"])),T(ee,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:S(()=>[T(v,{class:w([o.classMenuItems,"absolute ltr:right-0 rtl:left-0 origin-top-right rounded bg-white dark:bg-slate-800 dark:border dark:border-slate-700 shadow-dropdown z-[9999]"])},{default:S(()=>[t.$slots.menus?V(t.$slots,"menus",{key:1}):(k(),_("div",xe,[(k(!0),_(Y,null,Z(o.items,(n,s)=>(k(),R(b,{key:s},{default:S(({active:r})=>[n.link?(k(),R(c,{key:0,class:w(`${r?"bg-slate-100 text-slate-900 dark:bg-slate-600 dark:text-slate-300 dark:bg-opacity-50":"text-slate-600 dark:text-slate-300"} block   ${o.classItem}  ${n.hasDivider?"border-t border-slate-100 dark:border-slate-700":""}`),to:n.link},{default:S(()=>[n.icon?(k(),_("div",Se,[C("span",_e,[T(i,{icon:n.icon},null,8,["icon"])]),C("span",Me,P(n.label),1)])):(k(),_("span",De,P(n.label),1))]),_:2},1032,["class","to"])):(k(),_("span",{key:1,class:w(`${r?"bg-slate-100 text-slate-800":""}  ${n.hasDivider===!0?"border-t border-gray-500 dark:border-slate-700":""}  block ${o.classItem}`)},[n.icon?(k(),_("div",Re,[C("span",we,[T(i,{icon:n.icon},null,8,["icon"])]),C("span",Pe,P(n.label),1)])):(k(),_("span",Te,P(n.label),1))],2))]),_:2},1024))),128))]))]),_:3},8,["class"])]),_:3})]),_:3},8,["class"])}const Fe=J(ye,[["render",Ce]]);export{Fe as D,he as S,g as a,ve as b,pe as p,de as x};

import{C as M}from"./index-bfef6123.js";import{B as C,M as D,d as de,c as ue,u as J,e as te,b as ce,r as pe,a as _e,p as me}from"./user-9d6abda6.js";import{u as fe,a as ve,c as se,r as ge,i as be,B as ke}from"./contacts-fefe5379.js";import{q as F,r as L,x as H,p as P,v as ye,m as Se,F as h,o as oe,z as ne,B as xe,_ as R,a as b,b as i,c as d,d as v,f as e,w as k,t as r,g as Z,E as I,n as j,Z as he,$ as Ie,h as le,C as W,R as X}from"./index-8591da51.js";import{I as Te}from"./index-b62b9a14.js";import{a as $e,f as re,o as B,V as z,w as Pe,t as ie,R as Y,b as T,g as w,M as $,u as Ge,c as Me}from"./micro-task-b7dfd913.js";import{b as Re}from"./use-resolve-button-type-45fae513.js";import"./mapbox-gl-geocoder-e8f69630.js";import"./index-42d9ee31.js";import"./index-b19fdcd2.js";let Be=F({props:{onFocus:{type:Function,required:!0}},setup(o){let t=L(!0);return()=>t.value?H(re,{as:"button",type:"button",features:$e.Focusable,onFocus(l){l.preventDefault();let u,s=50;function p(){var c;if(s--<=0){u&&cancelAnimationFrame(u);return}if((c=o.onFocus)!=null&&c.call(o)){t.value=!1,cancelAnimationFrame(u);return}u=requestAnimationFrame(p)}u=requestAnimationFrame(p)}}):null}}),ae=Symbol("TabsContext");function V(o){let t=xe(ae,null);if(t===null){let l=new Error(`<${o} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,V),l}return t}let Le=F({name:"TabGroup",emits:{change:o=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(o,{slots:t,attrs:l,emit:u}){let s=L(null),p=L([]),c=L([]),f=P(()=>o.selectedIndex!==null),a=P(()=>f.value?o.selectedIndex:s.value),g={selectedIndex:s,orientation:P(()=>o.vertical?"vertical":"horizontal"),activation:P(()=>o.manual?"manual":"auto"),tabs:p,panels:c,setSelectedIndex(n){a.value!==n&&u("change",n),f.value||(s.value=n)},registerTab(n){p.value.includes(n)||p.value.push(n)},unregisterTab(n){let _=p.value.indexOf(n);_!==-1&&p.value.splice(_,1)},registerPanel(n){c.value.includes(n)||c.value.push(n)},unregisterPanel(n){let _=c.value.indexOf(n);_!==-1&&c.value.splice(_,1)}};return ye(ae,g),Se(()=>{var n;if(g.tabs.value.length<=0||o.selectedIndex===null&&s.value!==null)return;let _=g.tabs.value.map(S=>B(S)).filter(Boolean),y=_.filter(S=>!S.hasAttribute("disabled")),G=(n=o.selectedIndex)!=null?n:o.defaultIndex;if(G<0)s.value=_.indexOf(y[0]);else if(G>g.tabs.value.length)s.value=_.indexOf(y[y.length-1]);else{let S=_.slice(0,G),m=[..._.slice(G),...S].find(x=>y.includes(x));if(!m)return;s.value=_.indexOf(m)}}),()=>{let n={selectedIndex:s.value};return H(h,[p.value.length<=0&&H(Be,{onFocus:()=>{for(let _ of p.value){let y=B(_);if((y==null?void 0:y.tabIndex)===0)return y.focus(),!0}return!1}}),z({theirProps:{...l,...Pe(o,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:n,slots:t,attrs:l,name:"TabGroup"})])}}}),we=F({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(o,{attrs:t,slots:l}){let u=V("TabList");return()=>{let s={selectedIndex:u.selectedIndex.value},p={role:"tablist","aria-orientation":u.orientation.value};return z({ourProps:p,theirProps:o,slot:s,attrs:t,slots:l,name:"TabList"})}}}),Ce=F({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1}},setup(o,{attrs:t,slots:l,expose:u}){let s=V("Tab"),p=`headlessui-tabs-tab-${ie()}`,c=L(null);u({el:c,$el:c}),oe(()=>s.registerTab(c)),ne(()=>s.unregisterTab(c));let f=P(()=>s.tabs.value.indexOf(c)),a=P(()=>f.value===s.selectedIndex.value);function g(m){let x=s.tabs.value.map(K=>B(K)).filter(Boolean);if(m.key===T.Space||m.key===T.Enter){m.preventDefault(),m.stopPropagation(),s.setSelectedIndex(f.value);return}switch(m.key){case T.Home:case T.PageUp:return m.preventDefault(),m.stopPropagation(),w(x,$.First);case T.End:case T.PageDown:return m.preventDefault(),m.stopPropagation(),w(x,$.Last)}if(Ge(s.orientation.value,{vertical(){if(m.key===T.ArrowUp)return w(x,$.Previous|$.WrapAround);if(m.key===T.ArrowDown)return w(x,$.Next|$.WrapAround)},horizontal(){if(m.key===T.ArrowLeft)return w(x,$.Previous|$.WrapAround);if(m.key===T.ArrowRight)return w(x,$.Next|$.WrapAround)}}))return m.preventDefault()}function n(){var m;(m=B(c))==null||m.focus()}let _=L(!1);function y(){var m;_.value||(_.value=!0,!o.disabled&&((m=B(c))==null||m.focus(),s.setSelectedIndex(f.value),Me(()=>{_.value=!1})))}function G(m){m.preventDefault()}let S=Re(P(()=>({as:o.as,type:t.type})),c);return()=>{var m;let x={selected:a.value},K={ref:c,onKeydown:g,onFocus:s.activation.value==="manual"?n:y,onMousedown:G,onClick:y,id:p,role:"tab",type:S.value,"aria-controls":(m=B(s.panels.value[f.value]))==null?void 0:m.id,"aria-selected":a.value,tabIndex:a.value?0:-1,disabled:o.disabled?!0:void 0};return z({ourProps:K,theirProps:o,slot:x,attrs:t,slots:l,name:"Tab"})}}}),De=F({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(o,{slots:t,attrs:l}){let u=V("TabPanels");return()=>{let s={selectedIndex:u.selectedIndex.value};return z({theirProps:o,ourProps:{},slot:s,attrs:l,slots:t,name:"TabPanels"})}}}),Fe=F({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(o,{attrs:t,slots:l,expose:u}){let s=V("TabPanel"),p=`headlessui-tabs-panel-${ie()}`,c=L(null);u({el:c,$el:c}),oe(()=>s.registerPanel(c)),ne(()=>s.unregisterPanel(c));let f=P(()=>s.panels.value.indexOf(c)),a=P(()=>f.value===s.selectedIndex.value);return()=>{var g;let n={selected:a.value},_={ref:c,id:p,role:"tabpanel","aria-labelledby":(g=B(s.tabs.value[f.value]))==null?void 0:g.id,tabIndex:a.value?0:-1};return!a.value&&o.unmount?H(re,{as:"span",..._}):z({ourProps:_,theirProps:o,slot:n,attrs:t,slots:l,features:Y.Static|Y.RenderStrategy,visible:a.value,name:"TabPanel"})}}});const A=fe(),Ae={components:{Block:C,Map:D,Card:M},mounted(){const o=this.$route.params.id;A.id=o,A.getItem()},methods:{find_picklist_value(o,t){var l="";if(A[o]!==void 0){const u=A[o].find(s=>s.id==t);u!==void 0&&(l=u.label)}return l}},data(){return{IncidentStore:A}}},Ue={class:"lg:grid lg:grid-cols-2 gap-12"},Ne={class:"fromGroup relative"},Oe={class:"fromGroup relative"},qe={class:"lg:grid lg:grid-cols-2 gap-12"},Ee={class:"fromGroup relative"},je={key:0},ze={class:"fromGroup relative"},Ve={class:"lg:grid lg:grid-cols-2 gap-12"},We={class:"fromGroup relative"},He={class:"fromGroup relative"},Ke={class:"lg:grid lg:grid-cols-1 gap-12"},Qe={class:"fromGroup relative"},Ze={class:"lg:grid lg:grid-cols-2 gap-12"},Je={class:"fromGroup relative"},Xe={class:"fromGroup relative"},Ye={class:"fromGroup relative"},et={class:"fromGroup relative"},tt={class:"lg:grid lg:grid-cols-2 gap-12"},st={class:"fromGroup relative"},ot={class:"fromGroup relative"},nt={class:"lg:grid lg:grid-cols-1 gap-12"},lt={class:"fromGroup relative"},rt={class:"lg:grid lg:grid-cols-2 gap-12"},it={class:"fromGroup relative"},at={class:"fromGroup relative"},dt={class:"lg:grid lg:grid-cols-1 gap-12"},ut={class:"fromGroup relative"};function ct(o,t,l,u,s,p){const c=b("Loading"),f=b("Block"),a=b("Map");return i(),d("div",null,[v(c,{active:s.IncidentStore.loading,"onUpdate:active":t[0]||(t[0]=g=>s.IncidentStore.loading=g)},null,8,["active"]),e("div",null,[v(f,{blockname:"Incident Details"},{default:k(()=>[e("div",Ue,[e("div",Ne,[t[1]||(t[1]=e("label",null,"Incident No",-1)),e("span",null,r(s.IncidentStore.form.incident_no),1)]),e("div",Oe,[t[2]||(t[2]=e("label",null,"Incident Type",-1)),e("span",null,r(p.find_picklist_value("incident_types_picklist",s.IncidentStore.form.incident_types_picklist)),1)])]),e("div",qe,[e("div",Ee,[t[3]||(t[3]=e("label",null,"Time of Incident",-1)),s.IncidentStore.form.time_of_incident!=""?(i(),d("span",je,r(s.IncidentStore.form.time_of_incident),1)):Z("",!0)]),e("div",ze,[t[4]||(t[4]=e("label",null,"Date of Incident",-1)),e("span",null,r(s.IncidentStore.form.date_of_incident),1)])]),e("div",Ve,[e("div",We,[t[5]||(t[5]=e("label",null,"Incident Status",-1)),e("span",null,r(p.find_picklist_value("incident_statuses_picklist",s.IncidentStore.form.incident_statuses_picklist)),1)]),e("div",He,[t[6]||(t[6]=e("label",null,"Incident Priority",-1)),e("span",null,r(p.find_picklist_value("incident_priorities_picklist",s.IncidentStore.form.incident_priorities_picklist)),1)])]),e("div",Ke,[e("div",Qe,[t[7]||(t[7]=e("label",{for:""},"Notes/Remarks",-1)),e("span",null,r(s.IncidentStore.form.remarks),1)])])]),_:1}),v(f,{blockname:"Location Details"},{default:k(()=>[e("div",Ze,[e("div",null,[e("div",Je,[t[8]||(t[8]=e("label",{for:""},"Location",-1)),e("span",null,r(s.IncidentStore.form.location),1)]),e("div",Xe,[t[9]||(t[9]=e("label",{for:""},"Street name",-1)),e("span",null,r(s.IncidentStore.form.street_name),1)]),e("div",Ye,[t[10]||(t[10]=e("label",{for:""},"Nearest landmark",-1)),e("span",null,r(s.IncidentStore.form.nearest_landmark),1)]),e("div",et,[t[11]||(t[11]=e("label",{for:""},"Coordinates",-1)),e("span",null,r(s.IncidentStore.form.coordinates),1)])]),e("div",null,[v(a,{set_coordinates:s.IncidentStore.form.coordinates},null,8,["set_coordinates"])])])]),_:1}),v(f,{blockname:"Caller Details"},{default:k(()=>[e("div",tt,[e("div",st,[t[12]||(t[12]=e("label",{for:""},"First Name",-1)),e("span",null,r(s.IncidentStore.form.caller_firstname),1)]),e("div",ot,[t[13]||(t[13]=e("label",{for:""},"Last Name",-1)),e("span",null,r(s.IncidentStore.form.caller_lastname),1)])]),e("div",nt,[e("div",lt,[t[14]||(t[14]=e("label",{for:""},"Contact no",-1)),e("span",null,r(s.IncidentStore.form.caller_contact),1)])])]),_:1}),v(f,{blockname:"Responder Details"},{default:k(()=>[e("div",rt,[e("div",it,[t[15]||(t[15]=e("label",{for:""},"Responder Team",-1)),e("span",null,r(s.IncidentStore.form.response_team),1)]),e("div",at,[t[16]||(t[16]=e("label",{for:""},"Assigned By",-1)),e("span",null,r(s.IncidentStore.form.assigned_by),1)])]),e("div",dt,[e("div",ut,[t[17]||(t[17]=e("label",{for:""},"Assigned Team",-1)),e("span",null,r(s.IncidentStore.form.assigned_team),1)])])]),_:1})])])}const pt=R(Ae,[["render",ct],["__scopeId","data-v-dcd1411e"]]);const U=ve(),_t={components:{Block:C,Map:D,Card:M},methods:{find_picklist_value(o,t){var l="";if(U[o]!==void 0){const u=U[o].find(s=>s.id==t);u!==void 0&&(l=u.label)}return l}},mounted(){const o=this.$route.params.id;U.id=o,U.getItem()},data(){return{ResourcesStore:U}}},mt={class:"lg:grid lg:grid-cols-2 gap-12"},ft={class:"fromGroup relative"},vt={class:"fromGroup relative"},gt={class:"lg:grid lg:grid-cols-2 gap-12"},bt={class:"fromGroup relative"},kt={class:"fromGroup relative"},yt={class:"lg:grid lg:grid-cols-2 gap-12"},St={class:"fromGroup relative"},xt={class:"fromGroup relative"},ht={class:"lg:grid lg:grid-cols-2 gap-12"},It={class:"fromGroup relative"},Tt={class:"fromGroup relative"},$t={class:"lg:grid lg:grid-cols-2 gap-12"},Pt={class:"fromGroup relative"},Gt={class:"fromGroup relative"},Mt={class:"lg:grid lg:grid-cols-2 gap-12"},Rt={class:"fromGroup relative"};function Bt(o,t,l,u,s,p){const c=b("Loading"),f=b("Block"),a=b("Map");return i(),d("div",null,[v(c,{active:s.ResourcesStore.loading,"onUpdate:active":t[0]||(t[0]=g=>s.ResourcesStore.loading=g)},null,8,["active"]),e("div",null,[v(f,{blockname:"Resources Information"},{default:k(()=>[e("div",mt,[e("div",ft,[t[1]||(t[1]=e("label",{for:""},"Resource Name",-1)),e("span",null,r(s.ResourcesStore.form.resources_name),1)]),e("div",vt,[t[2]||(t[2]=e("label",{for:""},"Resource Type",-1)),e("span",null,r(p.find_picklist_value("resources_types_picklist",s.ResourcesStore.form.resources_types_picklist)),1)])]),e("div",gt,[e("div",bt,[t[3]||(t[3]=e("label",{for:""},"Quantity",-1)),e("span",null,r(s.ResourcesStore.form.quantity),1)]),e("div",kt,[t[4]||(t[4]=e("label",{for:""},"Status",-1)),e("span",null,r(p.find_picklist_value("resources_statuses_picklist",s.ResourcesStore.form.resources_statuses_picklist)),1)])]),e("div",yt,[e("div",St,[t[5]||(t[5]=e("label",{for:""},"Contact info",-1)),e("span",null,r(s.ResourcesStore.form.contact_info),1)]),e("div",xt,[t[6]||(t[6]=e("label",{for:""},"Owner",-1)),e("span",null,r(s.ResourcesStore.form.owner),1)])]),e("div",ht,[e("div",It,[t[7]||(t[7]=e("label",{for:""},"Date Acquired",-1)),e("span",null,r(s.ResourcesStore.form.date_acquired),1)]),e("div",Tt,[t[8]||(t[8]=e("label",{for:""},"Dispatch",-1)),e("span",null,r(p.find_picklist_value("dispatchers_picklist",s.ResourcesStore.form.dispatchers_picklist)),1)])]),e("div",$t,[e("div",Pt,[t[9]||(t[9]=e("label",{for:""},"Remarks",-1)),e("span",null,r(s.ResourcesStore.form.remarks),1)]),e("div",Gt,[t[10]||(t[10]=e("label",{for:""},"Condition",-1)),e("span",null,r(p.find_picklist_value("conditions_picklist",s.ResourcesStore.form.conditions_picklist)),1)])])]),_:1}),v(f,{blockname:"Location Details"},{default:k(()=>[e("div",Mt,[e("div",null,[e("div",Rt,[t[11]||(t[11]=e("label",{for:""},"Coordinates",-1)),e("span",null,r(s.ResourcesStore.form.coordinates),1)])]),e("div",null,[v(a,{set_coordinates:s.ResourcesStore.form.coordinates},null,8,["set_coordinates"])])])]),_:1})])])}const Lt=R(_t,[["render",Bt],["__scopeId","data-v-c7452be7"]]);const N=de(),wt={components:{Block:C,Map:D,Card:M},mounted(){const o=this.$route.params.id;N.id=o,N.getItem()},methods:{find_picklist_value(o,t){var l="";if(N[o]!==void 0){const u=N[o].find(s=>s.id==t);u!==void 0&&(l=u.label)}return l}},data(){return{ModuleStore:N,blocks:se}}},Ct={class:"lg:grid gap-x-12",style:{"grid-template-columns":"1fr 1fr"}},Dt={class:"fromGroup relative"},Ft={key:0},At={key:1};function Ut(o,t,l,u,s,p){const c=b("Loading"),f=b("Block");return i(),d("div",null,[v(c,{active:s.ModuleStore.loading,"onUpdate:active":t[0]||(t[0]=a=>s.ModuleStore.loading=a)},null,8,["active"]),(i(!0),d(h,null,I(s.blocks,(a,g)=>(i(),d("div",{key:g},[v(f,{title:a.block_name},{default:k(()=>[e("div",Ct,[(i(!0),d(h,null,I(a.fields,(n,_)=>(i(),d("div",{key:_,class:j([`custom-grid-${_%2}`,"mt-4"])},[e("div",Dt,[e("label",null,r(n.label),1),n.type!="picklist"?(i(),d("span",Ft,r(s.ModuleStore.form[n.name]),1)):(i(),d("span",At,r(p.find_picklist_value(n.name,s.ModuleStore.form[n.name])),1))])],2))),128))])]),_:2},1032,["title"])]))),128))])}const Nt=R(wt,[["render",Ut],["__scopeId","data-v-a3894001"]]);const O=ue(),Ot=J(),qt={components:{Block:C,Map:D,Card:M},mounted(){const o=this.$route.params.id;O.id=o,O.getItem()},methods:{find_picklist_value(o,t){var l="";if(O[o]!==void 0){const u=O[o].find(s=>s.id==t);u!==void 0&&(l=u.label)}return l}},data(){return{ModuleStore:O,blocks:te,user_store:Ot}}},Et={class:"lg:grid gap-x-12",style:{"grid-template-columns":"1fr 1fr"}},jt={class:"fromGroup relative"},zt={key:0},Vt={key:1},Wt={key:0},Ht={key:1};function Kt(o,t,l,u,s,p){const c=b("Loading"),f=b("Block");return i(),d("div",null,[v(c,{active:s.ModuleStore.loading,"onUpdate:active":t[0]||(t[0]=a=>s.ModuleStore.loading=a)},null,8,["active"]),(i(!0),d(h,null,I(s.blocks,(a,g)=>(i(),d("div",{key:g},[v(f,{title:a.block_name},{default:k(()=>[e("div",Et,[(i(!0),d(h,null,I(a.fields,(n,_)=>(i(),d("div",{key:_,class:j([`custom-grid-${_%2}`,"mt-4"])},[e("div",jt,[e("label",null,r(n.label),1),n.type!="picklist"?(i(),d("span",zt,r(s.ModuleStore.form[n.name]),1)):(i(),d("span",Vt,[n.name=="assigned_to_picklist"?(i(),d("span",Wt,r(s.user_store.get_single_assigned_to_picklist(s.ModuleStore.form[n.name])),1)):(i(),d("span",Ht,r(p.find_picklist_value(n.name,s.ModuleStore.form[n.name])),1))]))])],2))),128))])]),_:2},1032,["title"])]))),128))])}const Qt=R(qt,[["render",Kt],["__scopeId","data-v-f03e627c"]]);const q=ce(),Zt=J(),Jt={components:{Block:C,Map:D,Card:M},mounted(){const o=this.$route.params.id;q.id=o,q.getItem()},methods:{find_picklist_value(o,t){var l="";if(q[o]!==void 0){const u=q[o].find(s=>s.id==t);u!==void 0&&(l=u.label)}return l}},data(){return{ModuleStore:q,blocks:pe,user_store:Zt}}},Xt={class:"lg:grid gap-x-12",style:{"grid-template-columns":"1fr 1fr"}},Yt={class:"fromGroup relative"},es={key:0},ts={key:1},ss={key:0},os={key:1};function ns(o,t,l,u,s,p){const c=b("Loading"),f=b("Block");return i(),d("div",null,[v(c,{active:s.ModuleStore.loading,"onUpdate:active":t[0]||(t[0]=a=>s.ModuleStore.loading=a)},null,8,["active"]),(i(!0),d(h,null,I(s.blocks,(a,g)=>(i(),d("div",{key:g},[v(f,{title:a.block_name},{default:k(()=>[e("div",Xt,[(i(!0),d(h,null,I(a.fields,(n,_)=>(i(),d("div",{key:_,class:j([`custom-grid-${_%2}`,"mt-4"])},[e("div",Yt,[e("label",null,r(n.label),1),n.type!="picklist"?(i(),d("span",es,r(s.ModuleStore.form[n.name]),1)):(i(),d("span",ts,[n.name=="assigned_to_picklist"?(i(),d("span",ss,r(s.user_store.get_single_assigned_to_picklist(s.ModuleStore.form[n.name])),1)):(i(),d("span",os,r(p.find_picklist_value(n.name,s.ModuleStore.form[n.name])),1))]))])],2))),128))])]),_:2},1032,["title"])]))),128))])}const ls=R(Jt,[["render",ns],["__scopeId","data-v-3341bb9f"]]);const E=_e(),rs=J(),is={components:{Block:C,Map:D,Card:M},mounted(){const o=this.$route.params.id;E.id=o,E.getItem()},methods:{find_picklist_value(o,t){var l="";if(E[o]!==void 0){const u=E[o].find(s=>s.id==t);u!==void 0&&(l=u.label)}return l}},data(){return{ModuleStore:E,blocks:me,user_store:rs}}},as={class:"lg:grid gap-x-12",style:{"grid-template-columns":"1fr 1fr"}},ds={class:"fromGroup relative"},us={key:0},cs={key:1},ps={key:0},_s={key:1};function ms(o,t,l,u,s,p){const c=b("Loading"),f=b("Block");return i(),d("div",null,[v(c,{active:s.ModuleStore.loading,"onUpdate:active":t[0]||(t[0]=a=>s.ModuleStore.loading=a)},null,8,["active"]),(i(!0),d(h,null,I(s.blocks,(a,g)=>(i(),d("div",{key:g},[v(f,{title:a.block_name},{default:k(()=>[e("div",as,[(i(!0),d(h,null,I(a.fields,(n,_)=>(i(),d("div",{key:_,class:j([`custom-grid-${_%2}`,"mt-4"])},[e("div",ds,[e("label",null,r(n.label),1),n.type!="picklist"?(i(),d("span",us,r(s.ModuleStore.form[n.name]),1)):(i(),d("span",cs,[n.name=="assigned_to_picklist"?(i(),d("span",ps,r(s.user_store.get_single_assigned_to_picklist(s.ModuleStore.form[n.name])),1)):(i(),d("span",_s,r(p.find_picklist_value(n.name,s.ModuleStore.form[n.name])),1))]))])],2))),128))])]),_:2},1032,["title"])]))),128))])}const fs=R(is,[["render",ms],["__scopeId","data-v-0b82aa2e"]]),Q=he(),vs=Ie("system",{state:()=>({loading:!1,logs:[],systemForm:{logo:"",site:""}}),getters:{},actions:{async activity_logs(o,t){try{this.log=[],this.loading=!0;const l=await this.axios.get("activity_logs/"+o+"/"+t);this.logs=l.data.data,this.loading=!1}catch{}},async save(){try{if(this.systemForm.site=="")return Q.error("Site title is required!",{timeout:3e3}),!1;if(this.systemForm.logo=="")return Q.error("Logo is required!",{timeout:3e3}),!1;let o=await this.axios.post("/system",this.systemForm,{headers:{"Content-Type":"multipart/form-data"}});this.systemForm.logo=o.data.data[0].logo,this.systemForm.site=o.data.data[0].site,Q.success("Successfully saved!",{timeout:3e3})}catch(o){console.log(o)}}},persist:!0}),ee=vs(),gs={components:{Card:M},data(){return{modules:this.$route.params.module,module_id:this.$route.params.id,SystemStore:ee}},mounted(){ee.activity_logs(this.modules,this.module_id)},computed:{fields_computed(){let o;switch(this.$route.params.module){case"incidents":o=be;break;case"resources":o=ge;break;case"contacts":o=se;break;case"agencies":o=te;break}return o},fields(){const o=[];return this.fields_computed.map(t=>{t.fields.map(l=>{o[l.name]=l.label})}),o}}},bs={class:"relative ltr:pl-2 rtl:pr-2"},ks={class:"w-[250px] text-xs"},ys={class:"text-sm font-medium dark:text-slate-400-900 mb-1 text-slate-600"},Ss={class:"font-bold"},xs=["innerHTML"];function hs(o,t,l,u,s,p){const c=b("Loading"),f=b("Card");return i(),d("div",null,[v(c,{active:s.SystemStore.loading,"onUpdate:active":t[0]||(t[0]=a=>s.SystemStore.loading=a)},null,8,["active"]),v(f,{title:"Updates"},{default:k(()=>[e("ul",bs,[(i(!0),d(h,null,I(s.SystemStore.logs,(a,g)=>(i(),d("li",{key:g,class:"mt-5 flex"},[e("div",ks,r(a.created_at),1),t[1]||(t[1]=e("div",{class:"w-[100px] ltr:border-l-2 rtl:border-r-2 border-slate-100 dark:border-slate-700 pb-4 last:border-none ltr:pl-[22px] rtl:pr-[22px] relative before:absolute ltr:before:left-[-8px] rtl:before:-right-2 before:top-[0px] before:rounded-full before:w-4 before:h-4 before:bg-slate-900 dark:before:bg-slate-600 before:leading-[2px] before:content-[url('@/assets/images/all-img/ck.svg')]"},null,-1)),e("div",null,[e("h2",ys,[e("span",Ss,r(a.users_.name),1),le(" - "+r(a.action),1)]),e("p",{class:"text-xs dark:text-slate-400",innerHTML:a.description.replace("agency_name ","test")},null,8,xs)])]))),128))])]),_:1})])}const Is=R(gs,[["render",hs]]),Ts=[{title:"Details",icon:"heroicons-outline:view-columns"},{title:"Updates",icon:"heroicons-outline:queue-list"}],$s={components:{Breadcrumb:ke,Card:M,TabGroup:Le,TabList:we,Tab:Ce,TabPanel:Fe,TabPanels:De,Icon:Te,Resource:Lt,Incident:pt,Update:Is,Contact:Nt,Agency:Qt,Responder:ls,PrePlan:fs},methods:{Details(){const o=this.$route.params.module;var t="";switch(o){case"incidents":t="Incident";break;case"resources":t="Resource";break;case"contacts":t="Contact";break;case"agencies":t="Agency";break;case"responders":t="Responder";break;case"pre-plans":t="PrePlan";break}return t},Updates(){return"Update"}},computed:{},data(){return{buttons:Ts}}},Ps={class:"text-base relative top-[1px] ltr:mr-1 rtl:ml-1"};function Gs(o,t,l,u,s,p){const c=b("Breadcrumb"),f=b("Icon"),a=b("Tab"),g=b("TabList"),n=b("Card"),_=b("TabPanel"),y=b("TabPanels"),G=b("TabGroup");return i(),d("div",null,[v(c,{mode:"view"}),v(G,{defaultIndex:0},{default:k(()=>[v(n,{class:"mb-4"},{default:k(()=>[v(g,{class:"lg:space-x-8 md:space-x-4 space-x-0 rtl:space-x-reverse"},{default:k(()=>[(i(!0),d(h,null,I(s.buttons,(S,m)=>(i(),W(a,{as:"template",key:m},{default:k(({selected:x})=>[e("button",{class:j([[x?"text-primary-500 before:w-full":"text-slate-500 before:w-0 dark:text-slate-300"],"inline-flex items-start text-sm font-medium capitalize bg-white dark:bg-slate-800 ring-0 foucs:ring-0 focus:outline-none px-2 transition duration-150 before:transition-all before:duration-150 relative before:absolute before:left-1/2 before:bottom-[-6px] before:h-[1.5px] before:bg-primary-500 before:-translate-x-1/2"])},[e("span",Ps,[v(f,{icon:S.icon},null,8,["icon"])]),le(r(S.title),1)],2)]),_:2},1024))),128))]),_:1})]),_:1}),v(y,null,{default:k(()=>[(i(!0),d(h,null,I(s.buttons,(S,m)=>(i(),W(_,{key:m},{default:k(()=>[S.title=="Details"?(i(),W(X(p.Details()),{key:0})):Z("",!0),S.title=="Updates"?(i(),W(X(p.Updates()),{key:1})):Z("",!0)]),_:2},1024))),128))]),_:1})]),_:1})])}const Ns=R($s,[["render",Gs]]);export{Ns as default};

import{B as V}from"./index-3d0758cf.js";import{u as M}from"./module-ee2e983e.js";import{C as D}from"./index-de911cd9.js";import{M as A}from"./edit_map-3cc67126.js";import{u as F,r as L,_ as $,a as u,b as t,c as s,d as i,F as c,D as p,C as m,w as _,f as e,t as d,n as k,g as b}from"./index-703ff788.js";import{B as I}from"./index-a82eb94e.js";import{u as U}from"./related-9d401967.js";const z=F(),x=M(),G=L(""),S=L(""),E={name:"detail",props:{props_id:{type:String,default:""},props_module:{type:String,default:""}},components:{Card:D,Map:A,Badge:V},data(){return{module_store:x}},created(){G.value=this.props_module==""?this.$route.params.module:this.props_module,S.value=this.props_id==""?this.$route.params.id:this.props_id,this.$watch(()=>this.$route.params.id,f=>{x.get_edit_form(f,"detail")})},mounted(){x.module=G.value,x.get_edit_form(S.value,"detail")},methods:{moduleDetails(f){const a=f;return z.module.find(C=>C.id==a)}}},R={key:0},j={class:"lg:grid lg:grid-cols-2 gap-12 mt-4"},q={for:""},H={class:"lg:grid gap-x-12",style:{"grid-template-columns":"1fr 1fr"}},J={key:0,class:"fromGroup relative"},K={key:1,class:"fromGroup relative"},O={key:0},P=["title","href"],Q={key:2,class:"fromGroup relative"},T={class:"lg:grid lg:grid-cols-2 gap-12 mt-4"},W={class:"fromGroup relative"},X={class:"fromGroup relative"},Y={class:"lg:grid lg:grid-cols-2 gap-12"},Z={class:"fromGroup relative"},ee={class:"fromGroup relative"};function te(f,a,w,C,o,B){const g=u("Loading"),h=u("Map"),v=u("Card"),l=u("Badge");return t(),s("div",null,[i(g,{active:o.module_store.loading,"onUpdate:active":a[0]||(a[0]=n=>o.module_store.loading=n)},null,8,["active"]),o.module_store.loading?b("",!0):(t(),s("div",R,[(t(!0),s(c,null,p(o.module_store.data.blocks,(n,N)=>(t(),s("div",{key:N},[n.block=="Location Details"?(t(),m(v,{key:0,title:n.block,class:"mt-4 shadow-sm"},{default:_(()=>[e("div",j,[e("div",null,[(t(!0),s(c,null,p(n.fields,(r,y)=>(t(),s("div",{class:"fromGroup relative",key:y},[e("label",q,d(r.label),1),e("span",null,d(o.module_store.form[r.name]),1)]))),128))]),e("div",null,[i(h,{set_coordinates:o.module_store.form.coordinates},null,8,["set_coordinates"])])])]),_:2},1032,["title"])):(t(),m(v,{key:1,title:n.block,class:"mt-4 shadow-sm"},{default:_(()=>[e("div",H,[(t(!0),s(c,null,p(n.fields,(r,y)=>(t(),s("div",{key:y,class:k([`custom-grid-${y%2}`,"mt-4"])},[r.type=="checkbox"?(t(),s("div",J,[e("label",null,d(r.label),1),o.module_store.form[r.name]?(t(),m(l,{key:0,label:"Active",badgeClass:"bg-success-500 text-white"})):b("",!0),o.module_store.form[r.name]?b("",!0):(t(),m(l,{key:1,label:"Inactive",badgeClass:"bg-danger-500 text-white"}))])):r.type=="relation"?(t(),s("div",K,[e("label",null,d(r.label),1),r.related_fields?(t(),s("div",O,[e("a",{title:o.module_store.relation_field[r.name],href:`/app/module/${B.moduleDetails(r.related_fields.related_module).name}/detail/${o.module_store.form[r.name]}`,class:"text-blue-600"},d(o.module_store.relation_field[r.name]),9,P)])):b("",!0)])):(t(),s("div",Q,[e("label",null,d(r.label),1),e("span",null,d(o.module_store.form[r.name]),1)]))],2))),128))])]),_:2},1032,["title"]))]))),128)),i(v,{title:"System Generated",class:"mt-4 shadow-sm"},{default:_(()=>[e("div",T,[e("div",W,[a[1]||(a[1]=e("label",{for:""},"Created time",-1)),e("span",null,d(o.module_store.form.created_at),1)]),e("div",X,[a[2]||(a[2]=e("label",{for:""},"Created By",-1)),e("span",null,d(o.module_store.form.created_by),1)])]),e("div",Y,[e("div",Z,[a[3]||(a[3]=e("label",{for:""},"Last updated",-1)),e("span",null,d(o.module_store.form.updated_at),1)]),e("div",ee,[a[4]||(a[4]=e("label",{for:""},"Last updated by",-1)),e("span",null,d(o.module_store.form.updated_by),1)])])]),_:1})]))])}const fe=$(E,[["render",te],["__scopeId","data-v-383c3b6c"]]);M();const oe=U(),se=[{name:"detail",text:"Detail",icon:"heroicons-outline:newspaper"},{name:"update",text:"Update",icon:"heroicons-outline:newspaper"}],re=[{name:"Summary",text:"Summary",icon:"heroicons-outline:newspaper"}],le={components:{Button:I,Card:D},data(){return{related_store:oe,menu_button:se,summary_button:re}}},ae={key:0};function ne(f,a,w,C,o,B){const g=u("Button"),h=u("router-link"),v=u("Card");return t(),s("div",null,[i(v,null,{default:_(()=>[this.$route.params.module=="incidents"?(t(),s("span",ae,[(t(!0),s(c,null,p(o.summary_button,(l,n)=>(t(),m(h,{key:n,to:{name:"view",params:{action:l.name,id:this.$route.params.id}}},{default:_(()=>[i(g,{text:l.text,btnClass:"btn-default",class:k(l.name==this.$route.params.action?"bg-danger-500 text-white":"")},null,8,["text","class"])]),_:2},1032,["to"]))),128))])):b("",!0),(t(!0),s(c,null,p(o.menu_button,(l,n)=>(t(),m(h,{key:n,to:{name:"view",params:{action:l.name,id:this.$route.params.id}}},{default:_(()=>[i(g,{text:l.text,btnClass:"btn-default",class:k(l.name==this.$route.params.action?"bg-danger-500 text-white":"")},null,8,["text","class"])]),_:2},1032,["to"]))),128)),(t(!0),s(c,null,p(o.related_store.related_menu,(l,n)=>(t(),m(h,{key:n,to:{name:"related_list",params:{module:this.$route.params.module,related_module:l.related_menus.name,id:this.$route.params.id}}},{default:_(()=>[i(g,{text:l.label,btnClass:"btn-default",class:k(l.related_menus.name==this.$route.params.related_module?"bg-danger-500 text-white":"")},null,8,["text","class"])]),_:2},1032,["to"]))),128))]),_:1})])}const ge=$(le,[["render",ne]]);export{ge as M,fe as d};

import{C as M}from"./index-dbb5ef09.js";import{T as D}from"./index-69b6ce26.js";import{B as E}from"./index-42e3c688.js";import{T as L,C as N}from"./vue-select.es-d7734031.js";import{S as H}from"./sweetalert2.all-bc059564.js";import{_ as I,u as j,r as S,c as r,d as n,i as z,F as f,D as y,w,g as _,a as i,b as o,C as U,f as a,n as A,h as p,t as b}from"./index-d3afc2d4.js";import{u as O}from"./dropdown-9600ea7e.js";import{M as Y}from"./edit_map-f18ce726.js";import{u as J}from"./related-f51ed3d3.js";import"./index-0a9d475e.js";import"./mapbox-gl-geocoder-8e275a52.js";import"./index-ce4be336.js";const s=J(),K=j(),P=O(),k=S(""),V=S(""),Q={props:{props_related_module:String,props_module:String},components:{Card:M,Textinput:D,Button:E,Textarea:L,Select:N,Map:Y},data(){return{dropdown_store:P,modules:k,related_store:s}},created(){k.value=this.props_module,V.value=this.props_related_module,s.module=k.value,s.related_module=V.value},mounted(){s.get_edit_form(this.$route.params.id,s.id),s.form.id=this.$route.params.id},computed:{modules_(){const d=V.value;return K.module.find(c=>c.name==d)}},methods:{save(){var d="";if(Object.keys(s.required_field).map(c=>{s.form[c]==""&&(d+=`<span class="text-red-500"><b>${s.required_field[c]}</b> is required field</span><br>`)}),d!="")return H.fire({icon:"error",title:"Fill up the Required field",html:d}),!1;s.form.id=this.$route.params.id,s.save()},updateCoordinates(d){const{lng:m,lat:c}=d;s.form.coordinates=m+","+c}}},W={key:0},X={class:"lg:grid lg:grid-cols-2 gap-12"},Z={key:1},$={class:"lg:grid gap-x-12",style:{"grid-template-columns":"1fr 1fr"}},ee={key:0},oe={class:"fromGroup relative"},te={class:"flex-0 mr-6 break-words ltr:inline-block rtl:block input-label"},re={key:0,class:"text-red-500"},le={key:1},ae={class:"fromGroup relative"},se={class:"flex-0 mr-6 break-words ltr:inline-block rtl:block input-label"},ne={key:0,class:"text-red-500"},de={key:2},me={class:"fromGroup relative"},ue={class:"flex-0 mr-6 break-words ltr:inline-block rtl:block input-label"},ie={key:0,class:"text-red-500"},ce={key:3,class:"fromGroup relative"},_e={class:"flex-0 mr-6 break-words ltr:inline-block rtl:block input-label"},pe={key:0,class:"text-red-500"},be={key:4},he={class:"fromGroup relative"},ve={class:"flex-0 mr-6 break-words ltr:inline-block rtl:block input-label"},fe={key:0,class:"text-red-500"};function ye(d,m,c,ke,t,h){const q=i("Loading"),g=i("Textinput"),T=i("Map"),x=i("flat-pickr"),B=i("Textarea"),R=i("Select"),C=i("Card"),F=i("Button");return o(),r("div",null,[n(q,{active:t.related_store.loading,"onUpdate:active":m[0]||(m[0]=u=>t.related_store.loading=u)},null,8,["active"]),t.related_store.loading?_("",!0):(o(),r("form",{key:0,onSubmit:m[1]||(m[1]=z((...u)=>h.save&&h.save(...u),["prevent"]))},[(o(!0),r(f,null,y(t.related_store.data.blocks,(u,G)=>(o(),U(C,{key:G,title:u.block,class:"mb-4"},{default:w(()=>[u.block=="Location Details"?(o(),r("div",W,[a("div",X,[a("div",null,[(o(!0),r(f,null,y(u.fields,(e,v)=>(o(),U(g,{isReadonly:e.readonly==1,class:"mt-4",key:v,modelValue:t.related_store.form[e.name],"onUpdate:modelValue":l=>t.related_store.form[e.name]=l,label:e.label,placeholder:`Enter ${e.label}`},null,8,["isReadonly","modelValue","onUpdate:modelValue","label","placeholder"]))),128))]),a("div",null,[n(T,{set_coordinates:t.related_store.form.coordinates,onUpdateCoordinate:h.updateCoordinates},null,8,["set_coordinates","onUpdateCoordinate"])])])])):(o(),r("div",Z,[a("div",$,[(o(!0),r(f,null,y(u.fields,(e,v)=>(o(),r("div",{key:v,class:A([`custom-grid-${v%2}`,"mt-4"])},[e.type=="time"?(o(),r("div",ee,[a("div",oe,[a("label",te,[p(b(e.label)+" ",1),e.required?(o(),r("span",re,"*")):_("",!0)]),n(x,{modelValue:t.related_store.form[e.name],"onUpdate:modelValue":l=>t.related_store.form[e.name]=l,class:"form-control",placeholder:"HH:mm:00",config:{enableTime:!0,noCalendar:!0,dateFormat:"H:i:00",time_24hr:!0,minuteIncrement:1}},null,8,["modelValue","onUpdate:modelValue"])])])):e.type=="date"?(o(),r("div",le,[a("div",ae,[a("label",se,[p(b(e.label)+" ",1),e.required?(o(),r("span",ne,"*")):_("",!0)]),n(x,{modelValue:t.related_store.form[e.name],"onUpdate:modelValue":l=>t.related_store.form[e.name]=l,class:"form-control",placeholder:"yyyy-mm-dd",config:{dateFormat:"Y-m-d"}},null,8,["modelValue","onUpdate:modelValue"])])])):e.type=="textarea"?(o(),r("div",de,[a("div",me,[a("label",ue,[p(b(e.label)+" ",1),e.required?(o(),r("span",ie,"*")):_("",!0)]),n(B,{isReadonly:e.readonly==1,placeholder:`Enter ${e.label}`,modelValue:t.related_store.form[e.name],"onUpdate:modelValue":l=>t.related_store.form[e.name]=l},null,8,["isReadonly","placeholder","modelValue","onUpdate:modelValue"])])])):e.type=="dropdown"?(o(),r("div",ce,[a("label",_e,[p(b(e.label)+" ",1),e.required?(o(),r("span",pe,"*")):_("",!0)]),n(R,{disabled:e.readonly==1,placeholder:"Select an option",reduce:l=>l.label,options:t.dropdown_store.dropdownlist[e.name],modelValue:t.related_store.form[e.name],"onUpdate:modelValue":l=>t.related_store.form[e.name]=l},null,8,["disabled","reduce","options","modelValue","onUpdate:modelValue"])])):(o(),r("div",be,[a("div",he,[a("label",ve,[p(b(e.label)+" ",1),e.required?(o(),r("span",fe,"*")):_("",!0)]),n(g,{isReadonly:e.readonly==1,modelValue:t.related_store.form[e.name],"onUpdate:modelValue":l=>t.related_store.form[e.name]=l,placeholder:`Enter ${e.label}`},null,8,["isReadonly","modelValue","onUpdate:modelValue","placeholder"])])]))],2))),128))])]))]),_:2},1032,["title"]))),128)),n(C,null,{default:w(()=>[n(F,{class:"w-full bg-emerald-500/100 hover:bg-emerald-600/100",text:`Save ${h.modules_.label}`},null,8,["text"])]),_:1})],32))])}const Ge=I(Q,[["render",ye],["__scopeId","data-v-476fb601"]]);export{Ge as default};

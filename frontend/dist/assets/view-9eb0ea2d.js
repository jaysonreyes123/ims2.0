import{d as We,M as Ye}from"./menu-0a3eff83.js";import{B as Qe}from"./Breadcrum-7ad7db45.js";import{I as Xe}from"./index-35a1d2a7.js";import{C as He}from"./index-ff5637ae.js";import{u as Je,M as Ee,P as Ze,T as et}from"./list-3e04c5a8.js";import{B as ne}from"./index-c7743a2e.js";import{I as pe}from"./index-8100ed51.js";import{u as me}from"./related-d49cfae2.js";import{S as tt,U as nt,W as ot,X as rt,_ as z,p as at,r as oe,a as y,b as v,c as w,f,t as q,n as B,d as m,w as _,C as R,g as O,Q as H,F as je,V as we,D as lt,Y as se,u as it}from"./index-aae2f258.js";import{e as st,d as ut,N as dt,_ as ct}from"./transition-614c18d8.js";import ft from"./save-a97aa6ab.js";import{S as pt}from"./sweetalert2.all-58477e35.js";import"./index-557ee364.js";import"./module-4f7e84ee.js";import"./dropdown-689d2ad1.js";import"./edit_map-1e74b2ca.js";import"./mapbox-gl-geocoder-222a5724.js";import"./index-10f5f390.js";import"./index-6273444f.js";import"./vue-select.es-2c5a72e0.js";function V(e,t,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(s){try{i(r.next(s))}catch(g){u(g)}}function p(s){try{i(r.throw(s))}catch(g){u(g)}}function i(s){s.done?a(s.value):o(s.value).then(d,p)}i((r=r.apply(e,t||[])).next())})}function W(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,u;return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(i){return function(s){return p([i,s])}}function p(i){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(a=i[0]&2?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[i[0]&2,a.value]),i[0]){case 0:case 1:a=i;break;case 4:return n.label++,{value:i[1],done:!1};case 5:n.label++,o=i[1],i=[0];continue;case 7:i=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(i[0]===6||i[0]===2)){n=0;continue}if(i[0]===3&&(!a||i[1]>a[0]&&i[1]<a[3])){n.label=i[1];break}if(i[0]===6&&n.label<a[1]){n.label=a[1],a=i;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(i);break}a[2]&&n.ops.pop(),n.trys.pop();continue}i=t.call(e,n)}catch(s){i=[6,s],o=0}finally{r=a=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}function mt(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(d){u={error:d}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return a}function vt(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(mt(arguments[t]));return e}const gt=Je();tt();const re=nt("media",{state:()=>({loading:!1,modal:!1,title:"",id:"",total:0,current:1,per_page:0,form:{files:[]},mediaList:[]}),actions:{async save(e){try{this.loading=!0;const t=await this.axios.post("media",e,{headers:{"Content-Type":"multipart/form-data"}});gt.List_Relation("media",this.id),this.loading=!1,this.clearFile()}catch{}},async del(e){try{this.loading=!0,(await this.axios.delete("media/"+e)).data.status==200&&this.list()}catch{}},async download(e,t,n){try{this.loading=!0;const r=await this.axios.get("media",{params:{filename:e,extension:t,path:n},responseType:"blob"}),o=URL.createObjectURL(r.data),a=document.createElement("a");a.href=o,a.setAttribute("download",e+"."+t),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(o),this.loading=!1}catch{}},clearFile(){this.form.files=[],this.modal=!1}}});var Be={},ht=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function ae(e,t){var n=yt(e);if(typeof n.path!="string"){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function yt(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var r=t.split(".").pop().toLowerCase(),o=ht.get(r);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var _t=[".DS_Store","Thumbs.db"];function bt(e){return V(this,void 0,void 0,function(){return W(this,function(t){return[2,wt(e)&&e.dataTransfer?kt(e.dataTransfer,e.type):Ct(e)]})})}function wt(e){return!!e.dataTransfer}function Ct(e){var t=xt(e.target)?e.target.files?ce(e.target.files):[]:[];return t.map(function(n){return ae(n)})}function xt(e){return e!==null}function kt(e,t){return V(this,void 0,void 0,function(){var n,r;return W(this,function(o){switch(o.label){case 0:return e.items?(n=ce(e.items).filter(function(a){return a.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(Dt))]):[3,2];case 1:return r=o.sent(),[2,Ce(Oe(r))];case 2:return[2,Ce(ce(e.files).map(function(a){return ae(a)}))]}})})}function Ce(e){return e.filter(function(t){return _t.indexOf(t.name)===-1})}function ce(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function Dt(e){if(typeof e.webkitGetAsEntry!="function")return xe(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?Re(t):xe(e)}function Oe(e){return e.reduce(function(t,n){return vt(t,Array.isArray(n)?Oe(n):[n])},[])}function xe(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=ae(t);return Promise.resolve(n)}function Ft(e){return V(this,void 0,void 0,function(){return W(this,function(t){return[2,e.isDirectory?Re(e):Mt(e)]})})}function Re(e){var t=e.createReader();return new Promise(function(n,r){var o=[];function a(){var u=this;t.readEntries(function(d){return V(u,void 0,void 0,function(){var p,i,s;return W(this,function(g){switch(g.label){case 0:if(d.length)return[3,5];g.label=1;case 1:return g.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return p=g.sent(),n(p),[3,4];case 3:return i=g.sent(),r(i),[3,4];case 4:return[3,6];case 5:s=Promise.all(d.map(Ft)),o.push(s),a(),g.label=6;case 6:return[2]}})})},function(d){r(d)})}a()})}function Mt(e){return V(this,void 0,void 0,function(){return W(this,function(t){return[2,new Promise(function(n,r){e.file(function(o){var a=ae(o,e.fullPath);n(a)},function(o){r(o)})})]})})}const $t=Object.freeze(Object.defineProperty({__proto__:null,fromEvent:bt},Symbol.toStringTag,{value:"Module"})),St=ot($t);var ve={};ve.__esModule=!0;ve.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=(e.type||"").toLowerCase(),a=o.replace(/\/.*$/,"");return n.some(function(u){var d=u.trim().toLowerCase();return d.charAt(0)==="."?r.toLowerCase().endsWith(d):d.endsWith("/*")?a===d.replace(/\/.*$/,""):o===d})}return!0};Object.defineProperty(Be,"__esModule",{value:!0});var F=rt,Pt=St;function Et(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var jt=Et(ve),h=function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function ke(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function Bt(e,t,n,r){return new(n||(n=Promise))(function(o,a){function u(i){try{p(r.next(i))}catch(s){a(s)}}function d(i){try{p(r.throw(i))}catch(s){a(s)}}function p(i){var s;i.done?o(i.value):(s=i.value,s instanceof n?s:new n(function(g){g(s)})).then(u,d)}p((r=r.apply(e,t||[])).next())})}function Ot(e,t){var n,r,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function d(p){return function(i){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return u.label++,{value:s[1],done:!1};case 5:u.label++,r=s[1],s=[0];continue;case 7:s=u.ops.pop(),u.trys.pop();continue;default:if(o=u.trys,!((o=o.length>0&&o[o.length-1])||s[0]!==6&&s[0]!==2)){u=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){u.label=s[1];break}if(s[0]===6&&u.label<o[1]){u.label=o[1],o=s;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(s);break}o[2]&&u.ops.pop(),u.trys.pop();continue}s=t.call(e,u)}catch(g){s=[6,g],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([p,i])}}}function fe(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}function De(e){e.preventDefault()}function J(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function te(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():e.cancelBubble!==void 0&&e.cancelBubble}var Rt={code:"too-many-files",message:"Too many files"},Tt=function(e){return e=Array.isArray(e)&&e.length===1?e[0]:e,{code:"file-invalid-type",message:"File type must be "+(Array.isArray(e)?"one of "+e.join(", "):e)}};function K(e){return e!=null}function Fe(e,t){var n=e.type==="application/x-moz-file"||jt.default(e,t);return[n,n?null:Tt(t)]}var Me=function(e){return{code:"file-too-large",message:"File is larger than "+e+" bytes"}},$e=function(e){return{code:"file-too-small",message:"File is smaller than "+e+" bytes"}};function Se(e,t,n){if(K(e.size)&&e.size)if(K(t)&&K(n)){if(e.size>n)return[!1,Me(n)];if(e.size<t)return[!1,$e(t)]}else{if(K(t)&&e.size<t)return[!1,$e(t)];if(K(n)&&e.size>n)return[!1,Me(n)]}return[!0,null]}function E(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return e.some(function(a){return!te(n)&&a&&a.apply(void 0,fe([n],r)),te(n)})}}var At={disabled:!1,getFilesFromEvent:Pt.fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1};function zt(e,t){switch(t.type){case"focus":return h(h({},e),{isFocused:!0});case"blur":return h(h({},e),{isFocused:!1});case"openDialog":return h(h({},e),{isFileDialogActive:!0});case"closeDialog":return h(h({},e),{isFileDialogActive:!1});case"setDraggedFiles":var n=t.isDragActive,r=t.draggedFiles;return h(h({},e),{draggedFiles:r,isDragActive:n});case"setFiles":return h(h({},e),{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return h(h({},e),{isFileDialogActive:!1,isDragActive:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]});default:return e}}var Lt=Be.useDropzone=function(e){e===void 0&&(e={});var t=F.ref(h(h({},At),e));F.watch(function(){return h({},e)},function(l){t.value=h(h({},t.value),l)});var n=F.ref(),r=F.ref(),o=function(l,c,b){var C=F.reactive(c),x=function($){var M=l(F.toRaw(C),$);Object.keys(M).forEach(function(P){C[P]=M[P]})};return b!=null&&x(b),[C,x]}(zt,{isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]}),a=o[0],u=o[1],d=function(){r.value&&(u({type:"openDialog"}),r.value.value="",r.value.click())},p=function(){var l=t.value.onFileDialogCancel;a.isFileDialogActive&&setTimeout(function(){if(r.value){var c=r.value.files;c&&!c.length&&(u({type:"closeDialog"}),typeof l=="function"&&l())}},300)};function i(l){n.value&&(n.value.$el||n.value).isEqualNode(l.target)&&(l.keyCode!==32&&l.keyCode!==13||(l.preventDefault(),d()))}function s(){u({type:"focus"})}function g(){u({type:"blur"})}function A(){var l;t.value.noClick||(l===void 0&&(l=window.navigator.userAgent),function(c){return c.includes("MSIE")||c.includes("Trident/")}(l)||function(c){return c.includes("Edge/")}(l)?setTimeout(d,0):d())}var S=F.ref([]),D=function(l){n.value&&((n.value.$el||n.value).contains(l.target)||(l.preventDefault(),S.value=[]))};function T(l){t.value.noDragEventsBubbling&&l.stopPropagation()}function Te(l){return Bt(this,void 0,void 0,function(){var c,b,C,x,$;return Ot(this,function(M){switch(M.label){case 0:return c=t.value,b=c.getFilesFromEvent,C=c.noDragEventsBubbling,x=c.onDragEnter,l.preventDefault(),T(l),S.value=fe(fe([],S.value),[l.target]),J(l)?b?[4,b(l)]:[2]:[3,2];case 1:if(($=M.sent())||($=[]),te(l)&&!C)return[2];u({draggedFiles:$,isDragActive:!0,type:"setDraggedFiles"}),x&&x(l),M.label=2;case 2:return[2]}})})}function Ae(l){var c=t.value.onDragOver;if(l.preventDefault(),T(l),l.dataTransfer)try{l.dataTransfer.dropEffect="copy"}catch{}return J(l)&&c&&c(l),!1}function ze(l){l.preventDefault(),T(l);var c=S.value.filter(function(x){return!!n.value&&(n.value.$el||n.value).contains(x)}),b=c.indexOf(l.target);if(b!==-1&&c.splice(b,1),S.value=c,!(c.length>0)){u({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]});var C=t.value.onDragLeave;J(l)&&C&&C(l)}}function ge(l){l.preventDefault(),T(l),S.value=[];var c=t.value,b=c.getFilesFromEvent,C=c.noDragEventsBubbling,x=c.accept,$=c.minSize,M=c.maxSize,P=c.multiple,I=c.maxFiles,N=c.onDrop,Q=c.onDropRejected,X=c.onDropAccepted;if(J(l)){if(!b)return;Promise.resolve(b(l)).then(function(ie){if(!te(l)||C){var j=[],U=[];ie.forEach(function(G){var _e=Fe(G,x),Ne=_e[0],Ue=_e[1],be=Se(G,$,M),Ge=be[0],Ke=be[1];if(Ne&&Ge)j.push(G);else{var qe=[Ue,Ke].filter(function(Ve){return Ve});U.push({file:G,errors:qe})}}),(!P&&j.length>1||P&&I>=1&&j.length>I)&&(j.forEach(function(G){U.push({file:G,errors:[Rt]})}),j.splice(0)),u({acceptedFiles:j,fileRejections:U,type:"setFiles"}),N&&N(j,U,l),U.length>0&&Q&&Q(U,l),j.length>0&&X&&X(j,l)}})}u({type:"reset"})}F.onMounted(function(){window.addEventListener("focus",p,!1),t.value.preventDropOnDocument&&(document.addEventListener("dragover",De,!1),document.addEventListener("drop",D,!1))}),F.onUnmounted(function(){window.removeEventListener("focus",p,!1),t.value.preventDropOnDocument&&(document.removeEventListener("dragover",De),document.removeEventListener("drop",D))});var L=function(l){return t.value.disabled?void 0:l},le=function(l){return t.value.noKeyboard?void 0:L(l)},Y=function(l){return t.value.noDrag?void 0:L(l)},Le=function(l){l.stopPropagation()},he=F.computed(function(){return a.draggedFiles?a.draggedFiles.length:0}),ye=F.computed(function(){return he.value>0&&function(l){var c=l.files,b=l.accept,C=l.minSize,x=l.maxSize,$=l.multiple,M=l.maxFiles;return!(!$&&c.length>1||$&&M>=1&&c.length>M)&&c.every(function(P){var I=Fe(P,b)[0],N=Se(P,C,x)[0];return I&&N})}({files:a.draggedFiles,accept:t.value.accept,minSize:t.value.minSize,maxSize:t.value.maxSize,multiple:t.value.multiple,maxFiles:t.value.maxFiles})}),Ie=F.computed(function(){return he.value>0&&!ye.value});return h(h({},F.toRefs(a)),{isDragAccept:ye,isDragReject:Ie,isFocused:F.computed(function(){return a.isFocused&&!t.value.disabled}),getRootProps:function(l){l===void 0&&(l={});var c=l.onKeyDown,b=l.onFocus,C=l.onBlur,x=l.onClick,$=l.onDragEnter,M=l.onDragenter,P=l.onDragOver,I=l.onDragover,N=l.onDragLeave,Q=l.onDragleave,X=l.onDrop,ie=ke(l,["onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragenter","onDragOver","onDragover","onDragLeave","onDragleave","onDrop"]);return h(h({onKeyDown:le(E(c,i)),onFocus:le(E(b,s)),onBlur:le(E(C,g)),onClick:L(E(x,A)),onDragenter:Y(E($,M,Te)),onDragover:Y(E(P,I,Ae)),onDragleave:Y(E(N,Q,ze)),onDrop:Y(E(X,ge)),ref:n},t.value.disabled||t.value.noKeyboard?{}:{tabIndex:0}),ie)},getInputProps:function(l){l===void 0&&(l={});var c=l.onChange,b=l.onClick,C=ke(l,["onChange","onClick"]),x={accept:t.value.accept,multiple:t.value.multiple,style:"display: none",type:"file",onChange:L(E(c,ge)),onClick:L(E(b,Le)),autoComplete:"off",tabIndex:-1,ref:r};return h(h({},x),C)},rootRef:n,inputRef:r,open:L(d)})};const It=at({components:{Icon:pe,TransitionRoot:st,TransitionChild:ut,Dialog:dt,DialogPanel:ct},props:{labelClass:{type:String,default:"btn-primary"},centered:{type:Boolean,default:!1},title:{type:String,default:"Basic Modal"},label:{type:String,default:"Basic Modal"},disableBackdrop:{type:Boolean,default:!1},noFade:{type:Boolean,default:!1},themeClass:{type:String,default:"bg-slate-900 dark:bg-slate-800 dark:border-b dark:border-slate-700"},sizeClass:{type:String,default:"max-w-xl"},scrollContent:{type:Boolean,default:!1},activeModal:{type:Boolean,default:!1}},setup(e){const t=oe(e.activeModal);return{closeModal:()=>{t.value=!1},openModal:()=>{t.value=!t.value},isOpen:t}}}),Nt={class:"fixed inset-0 overflow-y-auto"},Ut={key:0,class:"capitalize leading-6 tracking-wider font-medium text-base text-white"},Gt={key:0,class:"px-4 py-3 flex justify-end space-x-3 border-t border-slate-100 dark:border-slate-700"},Kt={class:"fixed inset-0 overflow-y-auto"},qt={key:0,class:"capitalize leading-6 tracking-wider font-medium text-base text-white"},Vt={key:0,class:"px-4 py-3 flex justify-end space-x-3 border-t border-slate-100 dark:border-slate-700"};function Wt(e,t,n,r,o,a){const u=y("TransitionChild"),d=y("Icon"),p=y("DialogPanel"),i=y("Dialog"),s=y("TransitionRoot");return v(),w(je,null,[f("button",{type:"button",onClick:t[0]||(t[0]=(...g)=>e.openModal&&e.openModal(...g)),class:B(["btn",e.labelClass])},q(e.label),3),m(s,{show:e.isOpen,as:"template"},{default:_(()=>[e.disableBackdrop===!1?(v(),R(i,{key:0,as:"div",onClose:e.closeModal,class:"relative z-[999]"},{default:_(()=>[m(u,{enter:e.noFade?"":"duration-300 ease-out","enter-from":e.noFade?"":"opacity-0","enter-to":e.noFade?"":"opacity-100",leave:e.noFade?"":"duration-300 ease-in","leave-from":e.noFade?"":"opacity-100","leave-to":e.noFade?"":"opacity-0"},{default:_(()=>t[3]||(t[3]=[f("div",{class:"fixed inset-0 bg-slate-900/50 backdrop-filter backdrop-blur-sm"},null,-1)])),_:1},8,["enter","enter-from","enter-to","leave","leave-from","leave-to"]),f("div",Nt,[f("div",{class:B(["flex min-h-full justify-center text-center p-6",e.centered?"items-center":"items-start "])},[m(u,{as:"template",enter:e.noFade?"":"duration-300  ease-out","enter-from":e.noFade?"":"opacity-0 scale-95","enter-to":e.noFade?"":"opacity-100 scale-100",leave:e.noFade?"":"duration-200 ease-in","leave-from":e.noFade?"":"opacity-100 scale-100","leave-to":e.noFade?"":"opacity-0 scale-95"},{default:_(()=>[m(p,{class:B(["w-full transform overflow-hidden rounded-md bg-white dark:bg-slate-800 text-left align-middle shadow-xl transition-all",e.sizeClass])},{default:_(()=>[f("div",{class:B(["relative overflow-hidden py-4 px-5 text-white flex justify-between",e.themeClass])},[e.title?(v(),w("h2",Ut,q(e.title),1)):O("",!0),f("button",{onClick:t[1]||(t[1]=(...g)=>e.closeModal&&e.closeModal(...g)),class:"text-[22px]"},[m(d,{icon:"heroicons-outline:x"})])],2),f("div",{class:B(["px-6 py-8",e.scrollContent?"overflow-y-auto max-h-[400px]":""])},[H(e.$slots,"default")],2),e.$slots.footer?(v(),w("div",Gt,[H(e.$slots,"footer")])):O("",!0)]),_:3},8,["class"])]),_:3},8,["enter","enter-from","enter-to","leave","leave-from","leave-to"])],2)])]),_:3},8,["onClose"])):(v(),R(i,{key:1,as:"div",class:"relative z-[999]"},{default:_(()=>[f("div",Kt,[f("div",{class:B(["flex min-h-full justify-center text-center p-6",e.centered?"items-center":"items-start "])},[m(u,{as:"template",enter:e.noFade?"":"duration-300  ease-out","enter-from":e.noFade?"":"opacity-0 scale-95","enter-to":e.noFade?"":"opacity-100 scale-100",leave:e.noFade?"":"duration-200 ease-in","leave-from":e.noFade?"":"opacity-100 scale-100","leave-to":e.noFade?"":"opacity-0 scale-95"},{default:_(()=>[m(p,{class:B(["w-full transform overflow-hidden rounded-md bg-white dark:bg-slate-800 text-left align-middle shadow-xl transition-all",e.sizeClass])},{default:_(()=>[f("div",{class:B(["relative overflow-hidden py-4 px-5 text-white flex justify-between",e.themeClass])},[e.title?(v(),w("h2",qt,q(e.title),1)):O("",!0),f("button",{onClick:t[2]||(t[2]=(...g)=>e.closeModal&&e.closeModal(...g)),class:"text-[22px]"},[m(d,{icon:"heroicons-outline:x"})])],2),f("div",{class:B(["px-6 py-8",e.scrollContent?"overflow-y-auto max-h-[400px]":""])},[H(e.$slots,"default")],2),e.$slots.footer?(v(),w("div",Vt,[H(e.$slots,"footer")])):O("",!0)]),_:3},8,["class"])]),_:3},8,["enter","enter-from","enter-to","leave","leave-from","leave-to"])],2)])]),_:3}))]),_:3},8,["show"])],64)}const Yt=z(It,[["render",Wt]]),Qt="/assets/upload-7ea9ffeb.svg",Xt=me(),Ht={setup(){const e=re();function t(i){i.map(s=>{e.form.files.push(s)})}function n(){e.form.files=[],e.modal=!1}function r(i){e.form.files.splice(i,1)}function o(i){console.log(i.target.files[0])}const a=()=>{if(e.form.files.length>0){const s=se.currentRoute.value.params.id,g=se.currentRoute.value.params.module;var i=new FormData;e.id=s,i.append("id",s),i.append("module",g),e.form.files.map(S=>{i.append("files[]",S)}),e.save(i);const A=se.currentRoute.value.params;Xt.get_column(A.id,A.module,A.related_module)}n()},{getRootProps:u,getInputProps:d,...p}=Lt({onDrop:t});return{getRootProps:u,getInputProps:d,closeModal:n,removeFile:r,SaveMedia:a,changeFile:o,...p,media:e}},components:{Modal:Yt,Icon:pe,Button:ne}},Jt={key:0,class:"text-sm text-slate-500 dark:text-slate-300 font-light"},Zt={key:1,class:"text-sm text-slate-500 dark:text-slate-300 font-light"},en={class:"list-item space-y-3 h-full overflow-x-auto mt-5"},tn={class:"text-start overflow-hidden text-ellipsis whitespace-nowrap max-w-[63%]"},nn={class:"text-sm text-slate-600 dark:text-slate-300 overflow-hidden text-ellipsis whitespace-nowrap"},on={class:"flex-1 ltr:text-right rtl:text-left"},rn={class:"text-sm font-light text-slate-400 dark:text-slate-400"},an={class:"w-full flex justify-between mt-5"};function ln(e,t,n,r,o,a){const u=y("Button");return v(),w("div",null,[f("div",we(r.getRootProps(),{class:"w-full text-center border-dashed border border-secondary-500 rounded-md py-[52px] flex flex-col justify-center items-center"}),[f("div",null,[f("input",we(r.getInputProps(),{class:"hidden"}),null,16),t[2]||(t[2]=f("img",{src:Qt,alt:"",class:"mx-auto mb-4"},null,-1)),e.isDragActive?(v(),w("p",Jt," Drop the files here ... ")):(v(),w("p",Zt," Drop files here or click to upload. "))])],16),f("ul",en,[(v(!0),w(je,null,lt(r.media.form.files,(d,p)=>(v(),w("li",{class:"flex items-center space-x-3 rtl:space-x-reverse border-b border-slate-100 dark:border-slate-700 last:border-b-0 pb-3 last:pb-0",key:p},[f("div",tn,[f("div",nn,q(p+1)+". "+q(d.name),1)]),f("div",on,[f("div",rn,[m(u,{icon:"heroicons-outline:trash",btnClass:"inline-flex items-center justify-center h-10 w-10 bg-danger-500 text-lg border rounded border-danger-500 text-white",onClick:i=>r.removeFile(p)},null,8,["onClick"])])])]))),128))]),f("div",an,[m(u,{text:"Close",btnClass:"btn-dark",onClick:t[0]||(t[0]=d=>r.closeModal())}),m(u,{text:"Save Media",btnClass:"btn-danger",onClick:t[1]||(t[1]=d=>r.SaveMedia())})])])}const sn=z(Ht,[["render",ln]]);re();const un={props:{previewContent:{type:String,default:""}}},dn=["src"],cn=["src"];function fn(e,t,n,r,o,a){return v(),w("div",null,[n.previewContent.type=="image/png"||n.previewContent.type=="image/jpg"||n.previewContent.type=="image/svg+xml"?(v(),w("img",{key:0,src:n.previewContent.preview,style:{"max-height":"500px",width:"100%"}},null,8,dn)):(v(),w("iframe",{key:1,src:n.previewContent.preview,style:{width:"100%","min-height":"500px"},frameborder:"0"},null,8,cn))])}const pn=z(un,[["render",fn]]);const ue=re();oe("Media");const mn={props:{previewContent:{default:"",type:String}},components:{Modal:Ee,Button:ne,Media:sn,Preview:pn},data(){return{media:ue}},methods:{closeModal(){ue.form.files=[],ue.modal=!1}}};function vn(e,t,n,r,o,a){const u=y("Media"),d=y("Preview"),p=y("Modal",!0);return v(),w("div",null,[m(p,{title:o.media.title,activeModal:o.media.modal,onClose:a.closeModal,sizeClass:"max-w-5xl"},{default:_(()=>[o.media.title=="Media"?(v(),R(u,{key:0})):O("",!0),o.media.title=="Preview"?(v(),R(d,{key:1,"preview-content":n.previewContent},null,8,["preview-content"])):O("",!0)]),_:1},8,["title","activeModal","onClose"])])}const gn=z(mn,[["render",vn]]);const Pe=me(),hn={props:{title:{type:String,default:""},method:{type:String,default:"edit"}},components:{Modal:Ee,Button:ne,save:ft,detail:We},data(){return{related_store:Pe}},methods:{closeModal(){Pe.modal=!1}}};function yn(e,t,n,r,o,a){const u=y("save"),d=y("detail"),p=y("Modal",!0);return v(),w("div",null,[m(p,{title:n.title,activeModal:o.related_store.modal,onClose:a.closeModal,sizeClass:"max-w-9xl"},{default:_(()=>[n.method=="edit"?(v(),R(u,{key:0,props_module:this.$route.params.module,props_related_module:this.$route.params.related_module},null,8,["props_module","props_related_module"])):n.method=="view"?(v(),R(d,{key:1,props_module:o.related_store.related_module,props_id:o.related_store.id},null,8,["props_module","props_id"])):O("",!0)]),_:1},8,["title","activeModal","onClose"])])}const _n=z(hn,[["render",yn]]),bn=it(),k=me(),Z=re(),de=oe(""),ee=oe(""),wn={components:{Card:He,InputGroup:Xe,Pagination:Ze,Tooltip:et,Button:ne,Icon:pe,Modal:gn,RelatedModal:_n},data(){return{related_store:k,preview_content_data:de,method:ee}},created(){k.page.current=1,k.modal=!1,this.$watch(()=>this.$route.params.related_module,e=>{const t=this.$route.params;k.get_column(t.id,t.module,t.related_module)})},mounted(){const e=this.$route.params;k.get_column(e.id,e.module,e.related_module)},computed:{modules_(){const e=this.$route.params.related_module;return bn.module.find(n=>n.name==e)}},methods:{openMediaModal(){Z.title="Media",Z.modal=!0},changePage(e){k.page.current=e,k.get_related_list(this.$route.params.id,this.$route.params.module,this.$route.params.related_module)},preview(e,t,n){de.value={name:e,preview:t,type:n},console.log(de.value),Z.title="Preview",Z.modal=!0},openSaveRelatedModal(){ee.value="edit",k.id="",k.modal=!0},edit(e){ee.value="edit",k.id=e,k.modal=!0},view(e){ee.value="view",k.id=e,k.related_module=this.$route.params.related_module,k.modal=!0},del(e,t){const n=this.modules_.label;pt.fire({title:"Unlink "+n+" ",text:"Are you sure you want to unlink this "+n+"? ",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Unlink",cancelButtonColor:"#3085d6",reverseButtons:!0}).then(r=>{r.isConfirmed&&k.delete(this.$route.params.module,this.$route.params.related_module,this.$route.params.id,e,t)})}}},Cn={class:"flex justify-end"},xn={key:0},kn={class:"flex space-x-3 justify-center rtl:space-x-reverse"},Dn=["onClick"],Fn={class:"action-btn"},Mn=["onClick"],$n=["onClick"],Sn=["onClick"],Pn={class:"py-4 px-3 flex justify-center"};function En(e,t,n,r,o,a){const u=y("Button"),d=y("Modal"),p=y("RelatedModal"),i=y("Icon"),s=y("Tooltip"),g=y("Pagination"),A=y("vue-good-table"),S=y("Card");return v(),w("div",null,[m(S,{class:"mt-4",title:a.modules_.label},{default:_(()=>[t[4]||(t[4]=f("br",null,null,-1)),f("div",Cn,[this.$route.params.related_module=="media"?(v(),R(u,{key:0,icon:"heroicons-outline:plus",text:`New ${this.$route.params.related_module}`,btnClass:"btn-danger mr-2 py-2",onClick:a.openMediaModal},null,8,["text","onClick"])):(v(),R(u,{key:1,icon:"heroicons-outline:plus",text:`New ${this.$route.params.related_module}`,btnClass:"btn-danger mr-2 py-2",onClick:a.openSaveRelatedModal},null,8,["text","onClick"]))]),m(d,{"preview-content":o.preview_content_data},null,8,["preview-content"]),m(p,{method:o.method,title:a.modules_.label},null,8,["method","title"]),t[5]||(t[5]=f("br",null,null,-1)),t[6]||(t[6]=f("br",null,null,-1)),m(A,{"fixed-header":!0,isLoading:o.related_store.loading,columns:o.related_store.columns_header,styleClass:" vgt-table  lesspadding2 centered ",rows:o.related_store.list_data,"pagination-options":{enabled:!0,perPage:15},onCellClick:e.onRowClick,"row-style-class":e.rowStyleClassFn,"max-height":"600px","select-options":{enabled:!0,selectOnCheckboxOnly:!0,selectioninfoClass:"custom-class",selectionText:"rows selected",clearSelectionText:"clear",disableSelectinfo:!0,selectAllByGroup:!0}},{"table-row":_(D=>[D.column.field=="action"?(v(),w("span",xn,[f("div",kn,[D.row.view!=""&&this.$route.params.related_module=="media"?(v(),R(s,{key:0,placement:"top",arrow:"",theme:"dark"},{button:_(()=>[f("a",{onClick:T=>a.preview(D.row.filename,D.row.path,D.row.filetype)},[f("div",Fn,[m(i,{icon:"heroicons:eye"})])],8,Dn)]),default:_(()=>[t[0]||(t[0]=f("span",null,"Preview",-1))]),_:2},1024)):O("",!0),m(s,{placement:"top",arrow:"",theme:"dark"},{button:_(()=>[f("div",{class:"action-btn",onClick:T=>a.view(D.row.id)},[m(i,{icon:"heroicons:eye"})],8,Mn)]),default:_(()=>[t[1]||(t[1]=f("span",null," View",-1))]),_:2},1024),m(s,{placement:"top",arrow:"",theme:"dark"},{button:_(()=>[f("div",{class:"action-btn",onClick:T=>a.edit(D.row.id)},[m(i,{icon:"heroicons:pencil-square"})],8,$n)]),default:_(()=>[t[2]||(t[2]=f("span",null," Edit",-1))]),_:2},1024),m(s,{placement:"top",arrow:"",theme:"danger-500"},{button:_(()=>[f("div",{class:"action-btn text-red-500",onClick:T=>a.del(D.row.id,D.row.originalIndex)},[m(i,{icon:"heroicons:trash"})],8,Sn)]),default:_(()=>[t[3]||(t[3]=f("span",null,"Delete",-1))]),_:2},1024)])])):O("",!0)]),"pagination-bottom":_(D=>[f("div",Pn,[m(g,{total:o.related_store.page.total,current:o.related_store.page.current,"per-page":o.related_store.page.per_page,onPageChanged:a.changePage,perPageChanged:D.perPageChanged},null,8,["total","current","per-page","onPageChanged","perPageChanged"])])]),_:1},8,["isLoading","columns","rows","onCellClick","row-style-class"])]),_:1},8,["title"])])}const jn=z(wn,[["render",En]]),Bn={components:{Menu:Ye,Breadcrum:Qe,Relatedlist:jn}};function On(e,t,n,r,o,a){const u=y("Breadcrum"),d=y("Menu"),p=y("Relatedlist");return v(),w("div",null,[m(u,{mode:"view"}),m(d),m(p)])}const to=z(Bn,[["render",On]]);export{to as default};

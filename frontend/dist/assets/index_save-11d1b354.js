import{C as E}from"./index-ff5637ae.js";import{T as N}from"./index-6273444f.js";import{B as H}from"./index-c7743a2e.js";import{T as j,C as z}from"./vue-select.es-2c5a72e0.js";import{S as I}from"./index-9ede3951.js";import{S as O}from"./sweetalert2.all-58477e35.js";import{M as Y}from"./edit_map-1e74b2ca.js";import{r as R,_ as T,a as m,b as t,c as l,d,i as A,F as V,D as x,C as v,w as C,f as s,n as J,h as p,t as b,g as u}from"./index-aae2f258.js";import{u as K}from"./module-4f7e84ee.js";import{u as P}from"./dropdown-689d2ad1.js";import{L as Q}from"./save-83b1844e.js";import"./index-8100ed51.js";import"./mapbox-gl-geocoder-222a5724.js";import"./index-10f5f390.js";import"./index-35a1d2a7.js";import"./report-5ef2e7a1.js";const n=K(),W=P(),g=R(""),X={components:{Card:E,Textinput:N,Button:H,Textarea:j,Select:z,Map:Y,Switch:I},data(){return{module_store:n,dropdown_store:W,modules:g}},created(){g.value=this.$route.params.module},mounted(){const a=this.$route.params.id;n.module=g.value,n.get_edit_form(),n.id=a,a!=""&&a!==void 0&&n.get(a)},methods:{save(){var a="";if(Object.keys(n.required_field).map(_=>{console.log(n.form[_]),n.form[_]==""&&(a+=`<span class="text-red-500"><b>${n.required_field[_]}</b> is required field</span><br>`)}),a!="")return O.fire({icon:"error",title:"Fill up the Required field",html:a}),!1;n.save()},updateCoordinates(a){const{lng:c,lat:_}=a;n.form.coordinates=c+","+_}}},Z={key:0},$={class:"lg:grid lg:grid-cols-2 gap-12"},ee={key:1},oe={class:"lg:grid gap-x-12",style:{"grid-template-columns":"1fr 1fr"}},te={key:0},le={class:"fromGroup relative"},re={class:"flex-0 mr-6 break-words ltr:inline-block rtl:block input-label"},se={key:0,class:"text-red-500"},ae={key:1},ne={class:"fromGroup relative"},me={class:"flex-0 mr-6 break-words ltr:inline-block rtl:block input-label"},de={key:0,class:"text-red-500"},ue={key:2},ce={class:"fromGroup relative"},ie={class:"flex-0 mr-6 break-words ltr:inline-block rtl:block input-label"},_e={key:0,class:"text-red-500"},pe={key:3,class:"fromGroup relative"},be={class:"flex-0 mr-6 break-words ltr:inline-block rtl:block input-label"},ve={key:0,class:"text-red-500"},ye={key:4,class:"fromGroup relative"},ke={class:"flex-0 mr-6 break-words ltr:inline-block rtl:block input-label"},he={key:0,class:"text-red-500"},fe={key:5},Ve={class:"fromGroup relative"},xe={class:"flex-0 mr-6 break-words ltr:inline-block rtl:block input-label"},ge={key:0,class:"text-red-500"};function Se(a,c,_,B,o,y){const f=m("Loading"),k=m("Textinput"),G=m("Map"),S=m("flat-pickr"),L=m("Textarea"),M=m("Select"),w=m("Switch"),U=m("Card"),F=m("Button");return t(),l("div",null,[d(f,{active:o.module_store.loading,"onUpdate:active":c[0]||(c[0]=i=>o.module_store.loading=i)},null,8,["active"]),o.module_store.loading?u("",!0):(t(),l("form",{key:0,onSubmit:c[1]||(c[1]=A((...i)=>y.save&&y.save(...i),["prevent"]))},[(t(!0),l(V,null,x(o.module_store.data.blocks,(i,D)=>(t(),v(U,{key:D,title:i.block,class:"mb-4"},{default:C(()=>[i.block=="Location Details"?(t(),l("div",Z,[s("div",$,[s("div",null,[(t(!0),l(V,null,x(i.fields,(e,h)=>(t(),v(k,{isReadonly:e.readonly==1,class:"mt-4",key:h,modelValue:o.module_store.form[e.name],"onUpdate:modelValue":r=>o.module_store.form[e.name]=r,label:e.label,placeholder:`Enter ${e.label}`},null,8,["isReadonly","modelValue","onUpdate:modelValue","label","placeholder"]))),128))]),s("div",null,[d(G,{set_coordinates:o.module_store.form.coordinates,onUpdateCoordinate:y.updateCoordinates},null,8,["set_coordinates","onUpdateCoordinate"])])])])):(t(),l("div",ee,[s("div",oe,[(t(!0),l(V,null,x(i.fields.filter(e=>e.display_type==1),(e,h)=>(t(),l("div",{key:h,class:J([`custom-grid-${h%2}`,"mt-4"])},[e.type=="time"?(t(),l("div",te,[s("div",le,[s("label",re,[p(b(e.label)+" ",1),e.required?(t(),l("span",se,"*")):u("",!0)]),d(S,{modelValue:o.module_store.form[e.name],"onUpdate:modelValue":r=>o.module_store.form[e.name]=r,class:"form-control",placeholder:"HH:mm:00",config:{enableTime:!0,noCalendar:!0,dateFormat:"H:i:00",time_24hr:!0,minuteIncrement:1}},null,8,["modelValue","onUpdate:modelValue"])])])):e.type=="date"?(t(),l("div",ae,[s("div",ne,[s("label",me,[p(b(e.label)+" ",1),e.required?(t(),l("span",de,"*")):u("",!0)]),d(S,{modelValue:o.module_store.form[e.name],"onUpdate:modelValue":r=>o.module_store.form[e.name]=r,class:"form-control",placeholder:"yyyy-mm-dd",config:{dateFormat:"Y-m-d"}},null,8,["modelValue","onUpdate:modelValue"])])])):e.type=="textarea"?(t(),l("div",ue,[s("div",ce,[s("label",ie,[p(b(e.label)+" ",1),e.required?(t(),l("span",_e,"*")):u("",!0)]),d(L,{isReadonly:e.readonly==1,placeholder:`Enter ${e.label}`,modelValue:o.module_store.form[e.name],"onUpdate:modelValue":r=>o.module_store.form[e.name]=r},null,8,["isReadonly","placeholder","modelValue","onUpdate:modelValue"])])])):e.type=="dropdown"?(t(),l("div",pe,[s("label",be,[p(b(e.label)+" ",1),e.required?(t(),l("span",ve,"*")):u("",!0)]),d(M,{disabled:e.readonly==1,placeholder:"Select an option",reduce:r=>r.label,options:o.dropdown_store.dropdownlist[e.name],modelValue:o.module_store.form[e.name],"onUpdate:modelValue":r=>o.module_store.form[e.name]=r},null,8,["disabled","reduce","options","modelValue","onUpdate:modelValue"])])):e.type=="checkbox"?(t(),l("div",ye,[s("label",ke,[p(b(e.label)+" ",1),e.required?(t(),l("span",he,"*")):u("",!0)]),o.module_store.form[e.name]==1?(t(),v(w,{key:0,modelValue:o.module_store.form[e.name],"onUpdate:modelValue":r=>o.module_store.form[e.name]=r,active:!0,class:"mb-5"},null,8,["modelValue","onUpdate:modelValue"])):u("",!0),o.module_store.form[e.name]==0?(t(),v(w,{key:1,modelValue:o.module_store.form[e.name],"onUpdate:modelValue":r=>o.module_store.form[e.name]=r,active:!1,class:"mb-5"},null,8,["modelValue","onUpdate:modelValue"])):u("",!0)])):(t(),l("div",fe,[s("div",Ve,[s("label",xe,[p(b(e.label)+" ",1),e.required?(t(),l("span",ge,"*")):u("",!0)]),d(k,{isReadonly:e.readonly==1,modelValue:o.module_store.form[e.name],"onUpdate:modelValue":r=>o.module_store.form[e.name]=r,placeholder:`Enter ${e.label}`},null,8,["isReadonly","modelValue","onUpdate:modelValue","placeholder"])])]))],2))),128))])]))]),_:2},1032,["title"]))),128)),d(U,null,{default:C(()=>[d(F,{class:"w-full bg-emerald-500/100 hover:bg-emerald-600/100",text:`Save ${o.modules}`},null,8,["text"])]),_:1})],32))])}const we=T(X,[["render",Se]]),q=R(),Ue={components:{Save:we,ReportSave:Q},created(){q.value=this.$route.params.module},data(){return{modules:q}}};function Ce(a,c,_,B,o,y){const f=m("ReportSave"),k=m("Save");return t(),l("div",null,[o.modules=="reports"?(t(),v(f,{key:0})):(t(),v(k,{key:1}))])}const Ye=T(Ue,[["render",Ce]]);export{Ye as default};

import{B as W,M as H,C as q}from"./index-2594ba8f.js";import{u as ee,a as te,B as oe}from"./Breadcrumb-06462f04.js";import{y as B,r as h,A as N,x as G,s as ne,v as le,F as $,o as J,C as K,q as se,_ as E,a as g,b as R,d as C,e as b,h as t,w as x,j as i,t as r,i as Q,J as j,G as M,n as re,U as ie}from"./index-ab543c8c.js";import{I as ae}from"./index-2b2dd8b8.js";import{a as ue,f as X,o as D,V as L,w as de,t as Y,i as ce,R as U,b as y,g as w,M as T,u as pe,c as fe}from"./micro-task-a4d8d648.js";import"./index-cda46ee9.js";let me=B({props:{onFocus:{type:Function,required:!0}},setup(n){let e=h(!0);return()=>e.value?N(X,{as:"button",type:"button",features:ue.Focusable,onFocus(f){f.preventDefault();let p,o=50;function a(){var s;if(o--<=0){p&&cancelAnimationFrame(p);return}if((s=n.onFocus)!=null&&s.call(n)){e.value=!1,cancelAnimationFrame(p);return}p=requestAnimationFrame(a)}p=requestAnimationFrame(a)}}):null}}),Z=Symbol("TabsContext");function F(n){let e=se(Z,null);if(e===null){let f=new Error(`<${n} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(f,F),f}return e}let be=B({name:"TabGroup",emits:{change:n=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(n,{slots:e,attrs:f,emit:p}){let o=h(null),a=h([]),s=h([]),c=G(()=>n.selectedIndex!==null),m=G(()=>c.value?n.selectedIndex:o.value),v={selectedIndex:o,orientation:G(()=>n.vertical?"vertical":"horizontal"),activation:G(()=>n.manual?"manual":"auto"),tabs:a,panels:s,setSelectedIndex(u){m.value!==u&&p("change",u),c.value||(o.value=u)},registerTab(u){a.value.includes(u)||a.value.push(u)},unregisterTab(u){let d=a.value.indexOf(u);d!==-1&&a.value.splice(d,1)},registerPanel(u){s.value.includes(u)||s.value.push(u)},unregisterPanel(u){let d=s.value.indexOf(u);d!==-1&&s.value.splice(d,1)}};return ne(Z,v),le(()=>{var u;if(v.tabs.value.length<=0||n.selectedIndex===null&&o.value!==null)return;let d=v.tabs.value.map(k=>D(k)).filter(Boolean),_=d.filter(k=>!k.hasAttribute("disabled")),P=(u=n.selectedIndex)!=null?u:n.defaultIndex;if(P<0)o.value=d.indexOf(_[0]);else if(P>v.tabs.value.length)o.value=d.indexOf(_[_.length-1]);else{let k=d.slice(0,P),l=[...d.slice(P),...k].find(I=>_.includes(I));if(!l)return;o.value=d.indexOf(l)}}),()=>{let u={selectedIndex:o.value};return N($,[a.value.length<=0&&N(me,{onFocus:()=>{for(let d of a.value){let _=D(d);if((_==null?void 0:_.tabIndex)===0)return _.focus(),!0}return!1}}),L({theirProps:{...f,...de(n,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:u,slots:e,attrs:f,name:"TabGroup"})])}}}),ve=B({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(n,{attrs:e,slots:f}){let p=F("TabList");return()=>{let o={selectedIndex:p.selectedIndex.value},a={role:"tablist","aria-orientation":p.orientation.value};return L({ourProps:a,theirProps:n,slot:o,attrs:e,slots:f,name:"TabList"})}}}),ge=B({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1}},setup(n,{attrs:e,slots:f,expose:p}){let o=F("Tab"),a=`headlessui-tabs-tab-${Y()}`,s=h(null);p({el:s,$el:s}),J(()=>o.registerTab(s)),K(()=>o.unregisterTab(s));let c=G(()=>o.tabs.value.indexOf(s)),m=G(()=>c.value===o.selectedIndex.value);function v(l){let I=o.tabs.value.map(O=>D(O)).filter(Boolean);if(l.key===y.Space||l.key===y.Enter){l.preventDefault(),l.stopPropagation(),o.setSelectedIndex(c.value);return}switch(l.key){case y.Home:case y.PageUp:return l.preventDefault(),l.stopPropagation(),w(I,T.First);case y.End:case y.PageDown:return l.preventDefault(),l.stopPropagation(),w(I,T.Last)}if(pe(o.orientation.value,{vertical(){if(l.key===y.ArrowUp)return w(I,T.Previous|T.WrapAround);if(l.key===y.ArrowDown)return w(I,T.Next|T.WrapAround)},horizontal(){if(l.key===y.ArrowLeft)return w(I,T.Previous|T.WrapAround);if(l.key===y.ArrowRight)return w(I,T.Next|T.WrapAround)}}))return l.preventDefault()}function u(){var l;(l=D(s))==null||l.focus()}let d=h(!1);function _(){var l;d.value||(d.value=!0,!n.disabled&&((l=D(s))==null||l.focus(),o.setSelectedIndex(c.value),fe(()=>{d.value=!1})))}function P(l){l.preventDefault()}let k=ce(G(()=>({as:n.as,type:e.type})),s);return()=>{var l;let I={selected:m.value},O={ref:s,onKeydown:v,onFocus:o.activation.value==="manual"?u:_,onMousedown:P,onClick:_,id:a,role:"tab",type:k.value,"aria-controls":(l=D(o.panels.value[c.value]))==null?void 0:l.id,"aria-selected":m.value,tabIndex:m.value?0:-1,disabled:n.disabled?!0:void 0};return L({ourProps:O,theirProps:n,slot:I,attrs:e,slots:f,name:"Tab"})}}}),_e=B({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(n,{slots:e,attrs:f}){let p=F("TabPanels");return()=>{let o={selectedIndex:p.selectedIndex.value};return L({theirProps:n,ourProps:{},slot:o,attrs:f,slots:e,name:"TabPanels"})}}}),ke=B({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(n,{attrs:e,slots:f,expose:p}){let o=F("TabPanel"),a=`headlessui-tabs-panel-${Y()}`,s=h(null);p({el:s,$el:s}),J(()=>o.registerPanel(s)),K(()=>o.unregisterPanel(s));let c=G(()=>o.panels.value.indexOf(s)),m=G(()=>c.value===o.selectedIndex.value);return()=>{var v;let u={selected:m.value},d={ref:s,id:a,role:"tabpanel","aria-labelledby":(v=D(o.tabs.value[c.value]))==null?void 0:v.id,tabIndex:m.value?0:-1};return!m.value&&n.unmount?N(X,{as:"span",...d}):L({ourProps:d,theirProps:n,slot:u,attrs:e,slots:f,features:U.Static|U.RenderStrategy,visible:m.value,name:"TabPanel"})}}});const A=ee(),Ie={components:{Block:W,Map:H,Card:q},mounted(){const n=this.$route.params.id;A.id=n,A.getItem()},computed:{getSingleIncidentTypes(){var n=A.getSingleIncidentType,e=n(A.form.incident_type);return e===void 0?"":e.name}},data(){return{IncidentStore:A}}},xe={class:"lg:grid lg:grid-cols-2 gap-12"},Se={class:"fromGroup relative"},ye={class:"fromGroup relative"},Te={class:"lg:grid lg:grid-cols-2 gap-12"},Re={class:"fromGroup relative"},Ge={key:0,class:"ml-1"},Pe={class:"fromGroup relative"},he={class:"lg:grid lg:grid-cols-2 gap-12"},De={class:"fromGroup relative"},we={class:"fromGroup relative"},Ce={class:"lg:grid lg:grid-cols-1 gap-12"},Be={class:"fromGroup relative"},Ae={class:"lg:grid lg:grid-cols-2 gap-12"},Le={class:"fromGroup relative"},Fe={class:"fromGroup relative"},Ne={class:"fromGroup relative"},Oe={class:"fromGroup relative"},Me={class:"lg:grid lg:grid-cols-2 gap-12"},$e={class:"fromGroup relative"},qe={class:"fromGroup relative"},Ee={class:"lg:grid lg:grid-cols-1 gap-12"},je={class:"fromGroup relative"},Ue={class:"lg:grid lg:grid-cols-2 gap-12"},Ve={class:"fromGroup relative"},ze={class:"fromGroup relative"},We={class:"lg:grid lg:grid-cols-1 gap-12"},He={class:"fromGroup relative"};function Je(n,e,f,p,o,a){const s=g("Loading"),c=g("Block"),m=g("Map");return R(),C("div",null,[b(s,{active:o.IncidentStore.loading,"onUpdate:active":e[0]||(e[0]=v=>o.IncidentStore.loading=v)},null,8,["active"]),t("div",null,[b(c,{blockname:"Incident Details"},{default:x(()=>[t("div",xe,[t("div",Se,[e[1]||(e[1]=t("label",{for:"",class:"inline-block input-label"},"Incident No :",-1)),i(" "+r(o.IncidentStore.form.incident_no),1)]),t("div",ye,[e[2]||(e[2]=t("label",{for:"",class:"inline-block input-label"},"Incident Type :",-1)),i(" "+r(a.getSingleIncidentTypes),1)])]),t("div",Te,[t("div",Re,[e[3]||(e[3]=t("label",{for:"",class:"inline-block input-label"},"Time of Incident :",-1)),o.IncidentStore.form.time_of_incident!=""?(R(),C("span",Ge,r(o.IncidentStore.form.time_of_incident),1)):Q("",!0)]),t("div",Pe,[e[4]||(e[4]=t("label",{for:"",class:"inline-block input-label"},"Date of Incident :",-1)),i(" "+r(o.IncidentStore.form.date_of_incident),1)])]),t("div",he,[t("div",De,[e[5]||(e[5]=t("label",{for:"",class:"inline-block input-label"},"Incident Status :",-1)),i(" "+r(o.IncidentStore.form.incident_status),1)]),t("div",we,[e[6]||(e[6]=t("label",{for:"",class:"inline-block input-label"},"Incident Priority :",-1)),i(" "+r(o.IncidentStore.form.incident_priority),1)])]),t("div",Ce,[t("div",Be,[e[7]||(e[7]=t("label",{for:"",class:"inline-block input-label"},"Notes/Remarks :",-1)),i(" "+r(o.IncidentStore.form.remarks),1)])])]),_:1}),b(c,{blockname:"Location Details"},{default:x(()=>[t("div",Ae,[t("div",null,[t("div",Le,[e[8]||(e[8]=t("label",{for:"",class:"inline-block input-label"},"Location :",-1)),i(" "+r(o.IncidentStore.form.location),1)]),t("div",Fe,[e[9]||(e[9]=t("label",{for:"",class:"inline-block input-label"},"Street name :",-1)),i(" "+r(o.IncidentStore.form.street_name),1)]),t("div",Ne,[e[10]||(e[10]=t("label",{for:"",class:"inline-block input-label"},"Nearest landmark :",-1)),i(" "+r(o.IncidentStore.form.nearest_landmark),1)]),t("div",Oe,[e[11]||(e[11]=t("label",{for:"",class:"inline-block input-label"},"Coordinates :",-1)),i(" "+r(o.IncidentStore.form.coordinates),1)])]),t("div",null,[b(m,{set_coordinates:o.IncidentStore.form.coordinates},null,8,["set_coordinates"])])])]),_:1}),b(c,{blockname:"Caller Details"},{default:x(()=>[t("div",Me,[t("div",$e,[e[12]||(e[12]=t("label",{for:"",class:"inline-block input-label"},"First Name :",-1)),i(" "+r(o.IncidentStore.form.caller_firstname),1)]),t("div",qe,[e[13]||(e[13]=t("label",{for:"",class:"inline-block input-label"},"Last Name :",-1)),i(" "+r(o.IncidentStore.form.caller_lastname),1)])]),t("div",Ee,[t("div",je,[e[14]||(e[14]=t("label",{for:"",class:"inline-block input-label"},"Contact no. :",-1)),i(" "+r(o.IncidentStore.form.caller_contact),1)])])]),_:1}),b(c,{blockname:"Responder Details"},{default:x(()=>[t("div",Ue,[t("div",Ve,[e[15]||(e[15]=t("label",{for:"",class:"inline-block input-label"},"Responder Team :",-1)),i(" "+r(o.IncidentStore.form.response_team),1)]),t("div",ze,[e[16]||(e[16]=t("label",{for:"",class:"inline-block input-label"},"Assigned By :",-1)),i(" "+r(o.IncidentStore.form.assigned_by),1)])]),t("div",We,[t("div",He,[e[17]||(e[17]=t("label",{for:"",class:"inline-block input-label"},"Assigned Team :",-1)),i(" "+r(o.IncidentStore.form.assigned_team),1)])])]),_:1})])])}const V=E(Ie,[["render",Je],["__scopeId","data-v-a3142e56"]]);const S=te(),Ke={components:{Block:W,Map:H,Card:q},computed:{getResourceType(){const n=S.getSingleResourceType,e=n(S.form.resources_type);return e===void 0?"":e.name},getResourceStatus(){const n=S.getSingleResourceStatus,e=n(S.form.resources_status);return e===void 0?"":e.name},getResourceDispatch(){const n=S.getSingleResourceDispatch,e=n(S.form.dispatch);return e===void 0?"":e.name},getResourceCondition(){const n=S.getSingleResourceCondition;return n(S.form.condition)===void 0?"":n.name}},mounted(){const n=this.$route.params.id;S.id=n,S.getItem()},data(){return{ResourcesStore:S}}},Qe={class:"lg:grid lg:grid-cols-2 gap-12"},Xe={class:"fromGroup relative"},Ye={class:"fromGroup relative"},Ze={class:"lg:grid lg:grid-cols-2 gap-12"},et={class:"fromGroup relative"},tt={class:"fromGroup relative"},ot={class:"lg:grid lg:grid-cols-2 gap-12"},nt={class:"fromGroup relative"},lt={class:"fromGroup relative"},st={class:"lg:grid lg:grid-cols-2 gap-12"},rt={class:"fromGroup relative"},it={class:"fromGroup relative"},at={class:"lg:grid lg:grid-cols-2 gap-12"},ut={class:"fromGroup relative"},dt={class:"fromGroup relative"},ct={class:"lg:grid lg:grid-cols-2 gap-12"},pt={class:"fromGroup relative"};function ft(n,e,f,p,o,a){const s=g("Loading"),c=g("Block"),m=g("Map");return R(),C("div",null,[b(s,{active:o.ResourcesStore.loading,"onUpdate:active":e[0]||(e[0]=v=>o.ResourcesStore.loading=v)},null,8,["active"]),t("div",null,[b(c,{blockname:"Resources Information"},{default:x(()=>[t("div",Qe,[t("div",Xe,[e[1]||(e[1]=t("label",{for:"",class:"inline-block input-label"},"Resource Name :",-1)),i(" "+r(o.ResourcesStore.form.resources_name),1)]),t("div",Ye,[e[2]||(e[2]=t("label",{for:"",class:"inline-block input-label"},"Resource Type :",-1)),i(" "+r(a.getResourceType),1)])]),t("div",Ze,[t("div",et,[e[3]||(e[3]=t("label",{for:"",class:"inline-block input-label"},"Quantity :",-1)),i(" "+r(o.ResourcesStore.form.quantity),1)]),t("div",tt,[e[4]||(e[4]=t("label",{for:"",class:"inline-block input-label"},"Status :",-1)),i(" "+r(a.getResourceStatus),1)])]),t("div",ot,[t("div",nt,[e[5]||(e[5]=t("label",{for:"",class:"inline-block input-label"},"Contact info :",-1)),i(" "+r(o.ResourcesStore.form.contact_info),1)]),t("div",lt,[e[6]||(e[6]=t("label",{for:"",class:"inline-block input-label"},"Owner :",-1)),i(" "+r(o.ResourcesStore.form.owner),1)])]),t("div",st,[t("div",rt,[e[7]||(e[7]=t("label",{for:"",class:"inline-block input-label"},"Date Acquired :",-1)),i(" "+r(o.ResourcesStore.form.date_acquired),1)]),t("div",it,[e[8]||(e[8]=t("label",{for:"",class:"inline-block input-label"},"Dispatch :",-1)),i(" "+r(a.getResourceDispatch),1)])]),t("div",at,[t("div",ut,[e[9]||(e[9]=t("label",{for:"",class:"inline-block input-label"},"Remarks :",-1)),i(" "+r(o.ResourcesStore.form.remarks),1)]),t("div",dt,[e[10]||(e[10]=t("label",{for:"",class:"inline-block input-label"},"Condition :",-1)),i(" "+r(a.getResourceCondition),1)])])]),_:1}),b(c,{blockname:"Location Details"},{default:x(()=>[t("div",ct,[t("div",null,[t("div",pt,[e[11]||(e[11]=t("label",{for:"",class:"inline-block input-label"},"Coordinates :",-1)),i(" "+r(o.ResourcesStore.form.coordinates),1)])]),t("div",null,[b(m,{set_coordinates:o.ResourcesStore.form.coordinates},null,8,["set_coordinates"])])])]),_:1})])])}const z=E(Ke,[["render",ft],["__scopeId","data-v-41436849"]]);h();const mt=[{title:"Details",icon:"heroicons-outline:view-columns"},{title:"Updates",icon:"heroicons-outline:queue-list"}],bt={components:{Incident:V,Breadcrumb:oe,Card:q,TabGroup:be,TabList:ve,Tab:ge,TabPanel:ke,TabPanels:_e,Icon:ae,Resource:z},methods:{Details(){const n=this.$route.params.module;var e="";switch(n){case"incidents":e=V;break;case"resources":e=z;break}return e}},computed:{},data(){return{buttons:mt}}},vt={class:"text-base relative top-[1px] ltr:mr-1 rtl:ml-1"};function gt(n,e,f,p,o,a){const s=g("Breadcrumb"),c=g("Icon"),m=g("Tab"),v=g("TabList"),u=g("Card"),d=g("TabPanel"),_=g("TabPanels"),P=g("TabGroup");return R(),C("div",null,[b(s,{mode:"view"}),b(P,{defaultIndex:0},{default:x(()=>[b(u,{class:"mb-4"},{default:x(()=>[b(v,{class:"lg:space-x-8 md:space-x-4 space-x-0 rtl:space-x-reverse"},{default:x(()=>[(R(!0),C($,null,j(o.buttons,(k,l)=>(R(),M(m,{as:"template",key:l},{default:x(({selected:I})=>[t("button",{class:re([[I?"text-primary-500 before:w-full":"text-slate-500 before:w-0 dark:text-slate-300"],"inline-flex items-start text-sm font-medium capitalize bg-white dark:bg-slate-800 ring-0 foucs:ring-0 focus:outline-none px-2 transition duration-150 before:transition-all before:duration-150 relative before:absolute before:left-1/2 before:bottom-[-6px] before:h-[1.5px] before:bg-primary-500 before:-translate-x-1/2"])},[t("span",vt,[b(c,{icon:k.icon},null,8,["icon"])]),i(r(k.title),1)],2)]),_:2},1024))),128))]),_:1})]),_:1}),b(_,null,{default:x(()=>[(R(!0),C($,null,j(o.buttons,(k,l)=>(R(),M(d,{unmount:!0,key:l},{default:x(()=>[k.title=="Details"?(R(),M(ie(a.Details()),{key:0})):Q("",!0)]),_:2},1024))),128))]),_:1})]),_:1})])}const Tt=E(bt,[["render",gt]]);export{Tt as default};

import{C as g}from"./index-31d27bbd.js";import{B as S}from"./index-1bfbf0d9.js";import{d as k,M as $}from"./menu-8518ea66.js";import{S as w,U as B,_ as b,a as i,b as n,c as l,d as p,C as h,w as C,f as o,F as M,D as L,t as m,h as N,g as T,r as V,R as D}from"./index-919f49e3.js";import{B as U}from"./Breadcrum-82096504.js";import{u as F}from"./related-3fbc0fe9.js";import"./index-3e12b49d.js";import"./index-7a4b3da6.js";import"./module-3a529a21.js";import"./dropdown-c096971e.js";import"./sweetalert2.all-f63bff7b.js";import"./edit_map-927a6a88.js";import"./mapbox-gl-geocoder-21005c77.js";import"./index-797ac68a.js";w();const H=B("system",{state:()=>({loading:!1,logs:[]}),getters:{},actions:{async activity_logs(e,t){try{this.log=[],this.loading=!0;const s=await this.axios.get("activity_logs/"+e+"/"+t);this.logs=s.data.data,this.loading=!1}catch{}}},persist:!0}),_=H(),R={components:{Card:g},data(){return{modules:this.$route.params.module,module_id:this.$route.params.id,SystemStore:_}},mounted(){_.activity_logs(this.modules,this.module_id)},computed:{fields_computed(){let e;switch(this.$route.params.module){case"incidents":e=incidents_field;break;case"resources":e=resources_field;break;case"contacts":e=contacts_field;break;case"agencies":e=agency_fields;break}return e},fields(){const e=[];return this.fields_computed.map(t=>{t.fields.map(s=>{e[s.name]=s.label})}),e}}},E={class:"relative ltr:pl-2 rtl:pr-2"},j={class:"w-[250px] text-xs"},q={class:"text-sm font-medium dark:text-slate-400-900 mb-1 text-slate-600"},z={class:"font-bold"},A=["innerHTML"];function G(e,t,s,x,r,v){const d=i("Loading"),c=i("Card");return n(),l("div",null,[p(d,{active:r.SystemStore.loading,"onUpdate:active":t[0]||(t[0]=a=>r.SystemStore.loading=a)},null,8,["active"]),r.SystemStore.loading?T("",!0):(n(),h(c,{key:0,title:"Updates",class:"mt-4"},{default:C(()=>[o("ul",E,[(n(!0),l(M,null,L(r.SystemStore.logs,(a,y)=>(n(),l("li",{key:y,class:"mt-5 flex"},[o("div",j,m(a.created_at),1),t[1]||(t[1]=o("div",{class:"w-[100px] ltr:border-l-2 rtl:border-r-2 border-slate-100 dark:border-slate-700 pb-4 last:border-none ltr:pl-[22px] rtl:pr-[22px] relative before:absolute ltr:before:left-[-8px] rtl:before:-right-2 before:top-[0px] before:rounded-full before:w-4 before:h-4 before:bg-slate-900 dark:before:bg-slate-600 before:leading-[2px] before:content-[url('@/assets/images/all-img/ck.svg')]"},null,-1)),o("div",null,[o("h2",q,[o("span",z,m(a.users_.name),1),N(" - "+m(a.action),1)]),o("p",{class:"text-xs dark:text-slate-400",innerHTML:a.description.replace("agency_name ","test")},null,8,A)])]))),128))])]),_:1}))])}const I=b(R,[["render",G]]),f=F(),u=V("detail"),J={components:{Card:g,Button:S,detail:k,update:I,Breadcrum:U,Menu:$},created(){this.$watch(()=>this.$route.params.action,e=>{u.value=e})},mounted(){u.value=this.$route.params.action,f.get_related_menu(this.$route.params.module)},data(){return{action_module:u,related_store:f}},methods:{}};function K(e,t,s,x,r,v){const d=i("Breadcrum"),c=i("Menu");return n(),l("div",null,[p(d,{mode:"view"}),p(c),(n(),h(D(r.action_module)))])}const le=b(J,[["render",K]]);export{le as default};
